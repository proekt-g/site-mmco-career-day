"use strict";window.addEventListener("load",function(){var s=!1;function n(){var e=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth)-e;$("body").css({"padding-right":"".concat(t,"px")}),$("body").toggleClass("block")}function p(t,e,a){try{history.replaceState(null,null,"#")}catch(e){console.log(e)}$.ajax({url:e,type:"POST",dataType:"html",data:$("#"+t).serialize(),success:function(e){"interview-form"===t&&"true"===$.parseJSON(e)?(n(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".popap__test").toggleClass("popap--active")):($(a).toggleClass("interview__block-label--close"),$(a).find(".interview__block-label-text").text("Занято"))},error:function(e){}})}function t(){$(".input-hidden").prop("checked",!1),n(),$(".modal-overlay").removeClass("modal-overlay--active"),$(".popap").removeClass("popap--active")}function o(e,t){return 0<e&&0<t?Math.PI/2-Math.atan(e/t):e<0&&0<t?Math.PI/2-Math.atan(e/t):e<0&&t<0?Math.PI+Math.atan(t/e):0<e&&t<0?3*Math.PI/2+Math.abs(Math.atan(e/t)):void 0}function a(){if(!$(this).parents(".popap__test").length)switch(!$(".modal").hasClass("modal--open")&&n(),$(".modal").addClass("modal--open"),$(".modal__switch-label--active").removeClass("modal__switch-label--active"),$(".modal .form").fadeOut(0),$(".modal .modal__switch").fadeIn(300),$(".modal .modal__quick").fadeIn(300),$(".modal .modal__text--quick").fadeIn(300),$(this).data("type-button")){case"register":$('.modal__switch-label[data-type-button="register"]').addClass("modal__switch-label--active"),$(".modal .registration").fadeIn(300);break;case"sign-in":$('.modal__switch-label[data-type-button="sign-in"]').addClass("modal__switch-label--active"),$(".modal .sign-in").fadeIn(300);break;case"reset-password":$(".modal .reset-password").fadeIn(300)}}switch($("#registration-form").on("submit",function(e){e.preventDefault(),p("registration-form","test.php")}),$("#sign-in-form").on("submit",function(e){e.preventDefault(),p("sign-in-form","test.php")}),$("#reset-password-form").on("submit",function(e){e.preventDefault(),p("reset-password-form","test.php")}),$("#new-password-form").on("submit",function(e){e.preventDefault(),p("new-password-form","test.php")}),$("#interview-form").on("input",function(e){e.preventDefault(),p("interview-form","test.php",$(e.target).parents(".interview__block-label")[0])}),$(".modal__close").on("click",function(){n(),$(".modal").toggleClass("modal--open")}),$('.modal__info-link[data-type-button="sign-in"]').on("click",function(e){e.preventDefault(),a.bind(this)()}),$('.modal__info-link[data-type-button="reset-password"]').on("click",function(e){e.preventDefault(),a.bind(this)(),$(".modal .modal__switch").fadeOut(0),$(".modal .modal__quick").fadeOut(0),$(".modal .modal__text--quick").fadeOut(0)}),$(".button").on("click",a),$(".modal__switch-label").on("click",a),$(".modal__switch-label").on("click",function(){$(".modal__switch-label--active").removeClass("modal__switch-label--active"),$(this).addClass("modal__switch-label--active")}),$(window).width()<=1150&&$(".menu").on("click",function(){n(),$(this).toggleClass("menu--open")}),document.addEventListener("mousemove",function(e){if(document.querySelector(".eye")){var t=e.x,a=e.y;t-=document.querySelector(".eye").getBoundingClientRect().x+45,a-=document.querySelector(".eye").getBoundingClientRect().y+45,document.querySelector(".eye__wrapper--one .eye").style.transform="rotate(".concat(57.2958*o(t,a),"deg)"),document.querySelector(".eye__wrapper--two .eye").style.transform="rotate(".concat(57.2958*o(t-200,a+34),"deg)")}}),$(".share").on("click",function(){$(this).find(".information-share").toggleClass("information-share--active")}),$(".filter-switch__text").on("click",function(){$(this).parent().toggleClass("filter-switch--active"),$(this).next().slideToggle(400)}),$(".avatars__more").on("click",function(e){$(e.target).hasClass("avatars__more")&&$(e.target)&&$(e.target).toggleClass("avatars__more--active");var t=$(e.target).hasClass("avatars__more-element")&&$(e.target)||$(e.target).parents(".avatars__more-element").length&&$($(e.target).parents(".avatars__more-element")[0])||null;t&&(t.toggleClass("avatars__more-element--active"),t.find(".avatars__more-text").slideToggle(400))}),$(".popap__test .popap__close").on("click",function(e){e.preventDefault(),t()}),$(".modal-overlay").on("click",function(e){$(e.target).hasClass("modal-overlay--active")&&t()}),$(".popap__content-answer-input").on("input",function(){$(this).parent().toggleClass("popap__content-answer--active"),$(this).parents(".popap__content-stage").find(".popap__content-button--next").addClass("popap__content-button--disable"),$(this).parents(".popap__content-step").find(".popap__content-answer-input").each(function(){$(this).prop("checked")&&$(this).parents(".popap__content-stage").find(".popap__content-button--next").removeClass("popap__content-button--disable")})}),$(".popap__content-stage--start .button").on("click",function(e){var a,n,o;e.preventDefault(),$(".popap__content-stage--test").toggleClass("popap__content-stage--hidden"),$(".popap__content-stage--start").toggleClass("popap__content-stage--hidden"),$('.popap__content-step[data-number-question="1"]').toggleClass("popap__content-step--hidden"),$('.popap__content-step[data-number-question="1"]').toggleClass("popap__content-step--current"),a=10,n=new Date,o=setInterval(function(){var e=60*(new Date).getMinutes()+(new Date).getSeconds()-(60*n.getMinutes()+n.getSeconds()),t=(a-e)%60;s&&clearInterval(o),e===a+1?(clearInterval(o),$(".popap__content-stage--test").addClass("popap__content-stage--hidden"),$(".popap__content-stage--fail").removeClass("popap__content-stage--hidden"),$(".interview__block").remove(),$(".interview__box--block").removeClass("interview__box--hidden")):($(".popap__content-timer").text("".concat(Math.trunc((a-e)/60),":").concat(t<10?"0"+t:t)),$(".popap__content-indicator").css("width",parseFloat($(".popap__content-indicator").css("width"))+650/a+"px"))},1e3)}),$(".popap__content-button--next").on("click",function(e){if(e.preventDefault(),$(".popap__content-step--current").next().hasClass("popap__content-step")){var t=$(".popap__content-step--current");$(".popap__content-step--current").next().removeClass("popap__content-step--hidden"),$(".popap__content-step--current").next().addClass("popap__content-step--current"),t.addClass("popap__content-step--hidden"),t.removeClass("popap__content-step--current"),$(".popap__content-amount--current").text($(".popap__content-step--current").data("number-question")),$(".popap__content-button--next").addClass("popap__content-button--disable"),$(".popap__content-button--back").removeClass("popap__content-button--disable"),$(".popap__content-step--current").find(".popap__content-answer-input").each(function(){$(this).prop("checked")&&$(".popap__content-button--next").removeClass("popap__content-button--disable")})}else{var a=[];$(".popap__content-stage--test").find(".popap__content-answer-input").each(function(){$(this).prop("checked")&&a.push($(this).parent().data("answer"))});var n={"701b389b848a2b1cfab867093101d8d5ac56addd":[1,7,13],"6af49c99148d13d7fa7ff05d627e561f7d53a194":[2,5,9,10,11]};for(var o in n)o===sha1($(".popap__test").prop("id"))&&JSON.stringify(n[o])==JSON.stringify(a)&&(p($(".popap__test").prop("id"),"test.php"),s=!0,$(".popap__content-stage--test").addClass("popap__content-stage--hidden"),$(".popap__content-stage--success").removeClass("popap__content-stage--hidden"),$(".interview__block").remove(),$(".interview__box--whait").removeClass("interview__box--hidden"));!s&&(p($(".popap__test").prop("id"),"test.php"),$(".popap__content-stage--test").addClass("popap__content-stage--hidden"),$(".popap__content-stage--fail").removeClass("popap__content-stage--hidden"),$(".interview__block").remove(),$(".interview__box--block").removeClass("interview__box--hidden"))}}),$(".popap__content-button--back").on("click",function(e){e.preventDefault();var t=$(".popap__content-step--current");$(".popap__content-step--current").prev().removeClass("popap__content-step--hidden"),$(".popap__content-step--current").prev().addClass("popap__content-step--current"),t.addClass("popap__content-step--hidden"),t.removeClass("popap__content-step--current"),$(".popap__content-amount--current").text($(".popap__content-step--current").data("number-question")),1===$(".popap__content-step--current").data("number-question")&&$(".popap__content-button--back").addClass("popap__content-button--disable"),$(".popap__content-button--next").removeClass("popap__content-button--disable")}),$("body").on("click",function(e){$(e.target).hasClass("vacancies__box-more")&&(n(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".popap__info").toggleClass("popap--active")),($(e.target).hasClass("popap__close")&&$(e.target)||$(e.target).parents(".popap__close").length&&$($(e.target).parents(".popap__close")[0])||null)&&($(".modal-overlay").removeClass("modal-overlay--active"),$(".popap__info").removeClass("popap--active"))}),$(window).width()<=700&&$(".company__text").appendTo(".company .container"),new URL(window.location.href).hash){case"#reg":a(),$('.modal__switch-label[data-type-button="register"]').addClass("modal__switch-label--active"),$(".modal .registration").fadeIn(300);break;case"#auth":a(),$('.modal__switch-label[data-type-button="sign-in"]').addClass("modal__switch-label--active"),$(".modal .sign-in").fadeIn(300);break;case"#rst":a(),$(".modal .modal__switch").fadeOut(0),$(".modal .modal__quick").fadeOut(0),$(".modal .modal__text--quick").fadeOut(0),$(".modal .reset-password").fadeIn(300);break;case"#new":a(),$(".modal .modal__switch").fadeOut(0),$(".modal .modal__quick").fadeOut(0),$(".modal .modal__text--quick").fadeOut(0),$(".modal .new-password").fadeIn(300);break;case"#thnk":a(),$(".modal .modal__switch").fadeOut(0),$(".modal .modal__quick").fadeOut(0),$(".modal .modal__text--quick").fadeOut(0),$(".modal .thanks").fadeIn(300)}900<=$(window).width()&&OverlayScrollbars(document.querySelectorAll(".filter-switch__modal"),{paddingAbsolute:!0}),new Swiper(".webinars__slider .swiper-container",{spaceBetween:20,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:".webinars__slider .slider-arrow--right",prevEl:".webinars__slider .slider-arrow--left"}}),new Swiper(".team__slider .swiper-container",{spaceBetween:20,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:".team__slider .slider-arrow--right",prevEl:".team__slider .slider-arrow--left"},breakpoints:{900:{spaceBetween:80}},on:{slideChange:function(e){var t=e.slides,a=e.activeIndex;1279<$(window).width()&&(t.each(function(e,t){t<a?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")}),t.each(function(e,t){a+2<t?$(e).addClass("swiper-slide-next-next"):$(e).removeClass("swiper-slide-next-next")}))},reachEnd:function(e){var t=e.$el;1279<$(window).width()&&$(t).parents(".team__slider").find(".swiper-slide-next-next").removeClass("swiper-slide-next-next")},fromEdge:function(e){var t=e.$el;1279<$(window).width()&&$(t).parents(".team__slider").find(".swiper-slide-next").addClass("swiper-slide-next-next")},init:function(e){var t=e.slides,a=e.activeIndex;1279<$(window).width()&&t.each(function(e,t){a+2<t?$(e).addClass("swiper-slide-next-next"):$(e).removeClass("swiper-slide-next-next")})}}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoZWNrVGVzdFZlcmlmeSIsInNjcm9sbEVtdWxhdGlvbiIsImRvY3VtZW50V2lkdGgiLCJwYXJzZUludCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJzY3JvbGxiYXJXaWR0aCIsImlubmVyV2lkdGgiLCIkIiwiY3NzIiwicGFkZGluZy1yaWdodCIsImNvbmNhdCIsInRvZ2dsZUNsYXNzIiwiYWpheFJlcXVlc3QiLCJhamF4Rm9ybSIsInVybCIsImVsZW1lbnQiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwieiIsImNvbnNvbGUiLCJsb2ciLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwiZGF0YSIsInNlcmlhbGl6ZSIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsInBhcnNlSlNPTiIsImZpbmQiLCJ0ZXh0IiwiZXJyb3IiLCJjbG9zZVBvcGFwIiwicHJvcCIsInJlbW92ZUNsYXNzIiwiYXJjY3RnIiwieCIsInkiLCJNYXRoIiwiUEkiLCJhdGFuIiwiYWJzIiwibW9kYWxBY3RpdmUiLCJ0aGlzIiwicGFyZW50cyIsImxlbmd0aCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJmYWRlT3V0IiwiZmFkZUluIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJiaW5kIiwid2lkdGgiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJwYXJlbnQiLCJuZXh0Iiwic2xpZGVUb2dnbGUiLCJtb3JlRWxlbWVudCIsImVhY2giLCJ0aW1lIiwiZGF0ZSIsInRpbWVySW50ZXJ2YWwiLCJEYXRlIiwic2V0SW50ZXJ2YWwiLCJzZWNvbmRzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJyZW1haW5kZXIiLCJjbGVhckludGVydmFsIiwicmVtb3ZlIiwidHJ1bmMiLCJwYXJzZUZsb2F0IiwiY3VycmVudFN0ZXAiLCJhcnJDaGVja2VkQW5zd2VyIiwicHVzaCIsImEiLCI3MDFiMzg5Yjg0OGEyYjFjZmFiODY3MDkzMTAxZDhkNWFjNTZhZGRkIiwiNmFmNDljOTkxNDhkMTNkN2ZhN2ZmMDVkNjI3ZTU2MWY3ZDUzYTE5NCIsImtleSIsInNoYTEiLCJKU09OIiwic3RyaW5naWZ5IiwicHJldiIsImFwcGVuZFRvIiwiVVJMIiwibG9jYXRpb24iLCJocmVmIiwiaGFzaCIsIk92ZXJsYXlTY3JvbGxiYXJzIiwicXVlcnlTZWxlY3RvckFsbCIsInBhZGRpbmdBYnNvbHV0ZSIsIlN3aXBlciIsInNwYWNlQmV0d2VlbiIsInNsaWRlc1BlclZpZXciLCJncmFiQ3Vyc29yIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImJyZWFrcG9pbnRzIiwiOTAwIiwic2xpZGVDaGFuZ2UiLCJfcmVmIiwic2xpZGVzIiwiYWN0aXZlSW5kZXgiLCJzbGlkZSIsImluZGV4IiwicmVhY2hFbmQiLCJfcmVmMiIsIiRlbCIsImZyb21FZGdlIiwiX3JlZjMiLCJpbml0IiwiX3JlZjQiXSwibWFwcGluZ3MiOiJBQUFBLGFBTUFBLE9BQU9DLGlCQUFpQixPQUFRLFdBRTlCLElBQUlDLEdBQWtCLEVBSXRCLFNBQVNDLElBQ1AsSUFBSUMsRUFBZ0JDLFNBQVNDLFNBQVNDLGdCQUFnQkMsYUFFbERDLEVBRGVKLFNBQVNMLE9BQU9VLFlBQ0NOLEVBQ3BDTyxFQUFFLFFBQVFDLElBQUksQ0FDWkMsZ0JBQWlCLEdBQUdDLE9BQU9MLEVBQWdCLFFBRTdDRSxFQUFFLFFBQVFJLFlBQVksU0FHeEIsU0FBU0MsRUFBWUMsRUFBVUMsRUFBS0MsR0FDbEMsSUFDRUMsUUFBUUMsYUFBYSxLQUFNLEtBQU0sS0FDakMsTUFBT0MsR0FDUEMsUUFBUUMsSUFBSUYsR0FHZFgsRUFBRWMsS0FBSyxDQUNMUCxJQUFLQSxFQUNMUSxLQUFNLE9BQ05DLFNBQVUsT0FDVkMsS0FBTWpCLEVBQUUsSUFBTU0sR0FBVVksWUFFeEJDLFFBQVMs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a0JxRCxFQUFPNUMsS0FBSyxTQUFVOEMsRUFBT0MsR0FDL0NGLEVBQWMsRUFBdEJFLEVBQTBCeEcsRUFBRXVHLEdBQU8vRCxTQUFTLDBCQUE0QnhDLEVBQUV1RyxHQUFPNUUsWUFBWSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIGRvY3VtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiKSB7XG4vLyAgICAgfVxuLy8gfVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgLy8gdmFyaWFibGVzXG4gIHZhciBjaGVja1Rlc3RWZXJpZnkgPSBmYWxzZTsgLy8gL3ZhcmlhYmxlc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHVuaXZlcnNhbCBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIHNjcm9sbEVtdWxhdGlvbigpIHtcbiAgICB2YXIgZG9jdW1lbnRXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCk7XG4gICAgdmFyIHdpbmRvd3NXaWR0aCA9IHBhcnNlSW50KHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSB3aW5kb3dzV2lkdGggLSBkb2N1bWVudFdpZHRoO1xuICAgICQoXCJib2R5XCIpLmNzcyh7XG4gICAgICBcInBhZGRpbmctcmlnaHRcIjogXCJcIi5jb25jYXQoc2Nyb2xsYmFyV2lkdGgsIFwicHhcIilcbiAgICB9KTtcbiAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcImJsb2NrXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWpheFJlcXVlc3QoYWpheEZvcm0sIHVybCwgZWxlbWVudCkge1xuICAgIHRyeSB7XG4gICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBcIiNcIik7XG4gICAgfSBjYXRjaCAoeikge1xuICAgICAgY29uc29sZS5sb2coeik7XG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICBkYXRhOiAkKFwiI1wiICsgYWpheEZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgLy8g0KHQtdCw0YDQuNC70LjQt9GD0LXQvCDQvtCx0YrQtdC60YJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgLy/QlNCw0L3QvdGL0LUg0L7RgtC/0YDQsNCy0LvQtdC90Ysg0YPRgdC/0LXRiNC90L5cbiAgICAgICAgLy8gbGV0IHJlc3VsdCA9ICQucGFyc2VKU09OKHJlc3BvbnNlKVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpXG4gICAgICAgIGFqYXhGb3JtID09PSAnaW50ZXJ2aWV3LWZvcm0nICYmICQucGFyc2VKU09OKHJlc3BvbnNlKSA9PT0gJ3RydWUnIC8vIHRydWVcbiAgICAgICAgLy8gZmFsc2VcbiAgICAgICAgPyAoc2Nyb2xsRW11bGF0aW9uKCksICQoJy5tb2RhbC1vdmVybGF5JykudG9nZ2xlQ2xhc3MoJ21vZGFsLW92ZXJsYXktLWFjdGl2ZScpLCAkKCcucG9wYXBfX3Rlc3QnKS50b2dnbGVDbGFzcygncG9wYXAtLWFjdGl2ZScpKSA6ICgkKGVsZW1lbnQpLnRvZ2dsZUNsYXNzKCdpbnRlcnZpZXdfX2Jsb2NrLWxhYmVsLS1jbG9zZScpLCAkKGVsZW1lbnQpLmZpbmQoJy5pbnRlcnZpZXdfX2Jsb2NrLWxhYmVsLXRleHQnKS50ZXh0KCfQl9Cw0L3Rj9GC0L4nKSk7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHJlc3BvbnNlKSB7Ly8g0JTQsNC90L3Ri9C1INC90LUg0L7RgtC/0YDQsNCy0LvQtdC90YtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJC5wYXJzZUpTT04ocmVzcG9uc2UpKVxuICAgICAgICAvLyBhbGVydChcItCe0YjQuNCx0LrQsC4g0JTQsNC90L3Ri9C1INC90LUg0L7RgtC/0YDQsNCy0LvQtdC90YsuXCIpXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVBvcGFwKCkge1xuICAgICQoJy5pbnB1dC1oaWRkZW4nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQoXCIubW9kYWwtb3ZlcmxheVwiKS5yZW1vdmVDbGFzcyhcIm1vZGFsLW92ZXJsYXktLWFjdGl2ZVwiKTtcbiAgICAkKFwiLnBvcGFwXCIpLnJlbW92ZUNsYXNzKFwicG9wYXAtLWFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFyY2N0Zyh4LCB5KSB7XG4gICAgaWYgKHggPiAwICYmIHkgPiAwKSByZXR1cm4gTWF0aC5QSSAvIDIgLSBNYXRoLmF0YW4oeCAvIHkpO1xuICAgIGlmICh4IDwgMCAmJiB5ID4gMCkgcmV0dXJuIE1hdGguUEkgLyAyIC0gTWF0aC5hdGFuKHggLyB5KTtcbiAgICBpZiAoeCA8IDAgJiYgeSA8IDApIHJldHVybiBNYXRoLlBJICsgTWF0aC5hdGFuKHkgLyB4KTtcbiAgICBpZiAoeCA+IDAgJiYgeSA8IDApIHJldHVybiAzICogTWF0aC5QSSAvIDIgKyBNYXRoLmFicyhNYXRoLmF0YW4oeCAvIHkpKTsgLy8gcmV0dXJuIE1hdGguUEkgLyAyIC0gTWF0aC5hdGFuKHggLyB5KT9cbiAgfSAvLyAgL3VuaXZlcnNhbCBmdW5jdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIGV2ZW50XG4gIC8vINCk0L7RgNC80LAg0KDQtdCz0LjRgdGC0YDQsNGG0LjQuFxuXG5cbiAgJChcIiNyZWdpc3RyYXRpb24tZm9ybVwiKS5vbihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcInJlZ2lzdHJhdGlvbi1mb3JtXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQvtGA0LzQsCDQoNC10LPQuNGB0YLRgNCw0YbQuNC4XG4gIC8vINCk0L7RgNC80LAg0JLRhdC+0LRcblxuICAkKFwiI3NpZ24taW4tZm9ybVwiKS5vbihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcInNpZ24taW4tZm9ybVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0L7RgNC80LAg0JLRhdC+0LRcbiAgLy8g0KTQvtGA0LzQsCDQodCx0YDQvtGB0LAg0L/QsNGA0L7Qu9GPXG5cbiAgJChcIiNyZXNldC1wYXNzd29yZC1mb3JtXCIpLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwicmVzZXQtcGFzc3dvcmQtZm9ybVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0L7RgNC80LAg0KHQsdGA0L7RgdCwINC/0LDRgNC+0LvRj1xuICAvLyDQpNC+0YDQvNCwINCd0L7QstC+0LPQviDQv9Cw0YDQvtC70Y9cblxuICAkKFwiI25ldy1wYXNzd29yZC1mb3JtXCIpLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwibmV3LXBhc3N3b3JkLWZvcm1cIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC+0YDQvNCwINCd0L7QstC+0LPQviDQv9Cw0YDQvtC70Y9cbiAgLy8g0JrQu9C40Log0L3QsCDQstGA0LXQvNGPINGB0L7QsdC10YHQtdC00L7QstCw0L3QuNGPXG5cbiAgJChcIiNpbnRlcnZpZXctZm9ybVwiKS5vbihcImlucHV0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiaW50ZXJ2aWV3LWZvcm1cIiwgXCJ0ZXN0LnBocFwiLCAkKGUudGFyZ2V0KS5wYXJlbnRzKCcuaW50ZXJ2aWV3X19ibG9jay1sYWJlbCcpWzBdKTtcbiAgfSk7IC8vIC/QmtC70LjQuiDQvdCwINCy0YDQtdC80Y8g0YHQvtCx0LXRgdC10LTQvtCy0LDQvdC40Y9cblxuICAkKCcubW9kYWxfX2Nsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQoJy5tb2RhbCcpLnRvZ2dsZUNsYXNzKCdtb2RhbC0tb3BlbicpO1xuICB9KTtcbiAgJCgnLm1vZGFsX19pbmZvLWxpbmtbZGF0YS10eXBlLWJ1dHRvbj1cInNpZ24taW5cIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBtb2RhbEFjdGl2ZS5iaW5kKHRoaXMpKCk7XG4gIH0pO1xuICAkKCcubW9kYWxfX2luZm8tbGlua1tkYXRhLXR5cGUtYnV0dG9uPVwicmVzZXQtcGFzc3dvcmRcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBtb2RhbEFjdGl2ZS5iaW5kKHRoaXMpKCk7XG4gICAgJCgnLm1vZGFsIC5tb2RhbF9fc3dpdGNoJykuZmFkZU91dCgwKTtcbiAgICAkKCcubW9kYWwgLm1vZGFsX19xdWljaycpLmZhZGVPdXQoMCk7XG4gICAgJCgnLm1vZGFsIC5tb2RhbF9fdGV4dC0tcXVpY2snKS5mYWRlT3V0KDApO1xuICB9KTtcbiAgJCgnLmJ1dHRvbicpLm9uKCdjbGljaycsIG1vZGFsQWN0aXZlKTtcbiAgJCgnLm1vZGFsX19zd2l0Y2gtbGFiZWwnKS5vbignY2xpY2snLCBtb2RhbEFjdGl2ZSk7XG4gICQoJy5tb2RhbF9fc3dpdGNoLWxhYmVsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQoJy5tb2RhbF9fc3dpdGNoLWxhYmVsLS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnbW9kYWxfX3N3aXRjaC1sYWJlbC0tYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnbW9kYWxfX3N3aXRjaC1sYWJlbC0tYWN0aXZlJyk7XG4gIH0pO1xuICAkKHdpbmRvdykud2lkdGgoKSA8PSAxMTUwICYmICQoJy5tZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ21lbnUtLW9wZW4nKTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5leWUnKSkge1xuICAgICAgdmFyIHggPSBlLngsXG4gICAgICAgICAgeSA9IGUueTtcbiAgICAgIHggLT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV5ZScpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggKyA0NTtcbiAgICAgIHkgLT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV5ZScpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkgKyA0NTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5leWVfX3dyYXBwZXItLW9uZSAuZXllJykuc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoXCIuY29uY2F0KDU3LjI5NTggKiBhcmNjdGcoeCwgeSksIFwiZGVnKVwiKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5leWVfX3dyYXBwZXItLXR3byAuZXllJykuc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoXCIuY29uY2F0KDU3LjI5NTggKiBhcmNjdGcoeCAtIDIwMCwgeSArIDM0KSwgXCJkZWcpXCIpO1xuICAgIH1cbiAgfSk7XG4gICQoXCIuc2hhcmVcIikub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuZmluZCgnLmluZm9ybWF0aW9uLXNoYXJlJykudG9nZ2xlQ2xhc3MoJ2luZm9ybWF0aW9uLXNoYXJlLS1hY3RpdmUnKTtcbiAgfSk7XG4gICQoXCIuZmlsdGVyLXN3aXRjaF9fdGV4dFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKFwiZmlsdGVyLXN3aXRjaC0tYWN0aXZlXCIpO1xuICAgICQodGhpcykubmV4dCgpLnNsaWRlVG9nZ2xlKDQwMCk7XG4gIH0pO1xuICAkKCcuYXZhdGFyc19fbW9yZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAkKGUudGFyZ2V0KS5oYXNDbGFzcygnYXZhdGFyc19fbW9yZScpICYmICQoZS50YXJnZXQpICYmICQoZS50YXJnZXQpLnRvZ2dsZUNsYXNzKCdhdmF0YXJzX19tb3JlLS1hY3RpdmUnKTtcbiAgICB2YXIgbW9yZUVsZW1lbnQgPSAkKGUudGFyZ2V0KS5oYXNDbGFzcygnYXZhdGFyc19fbW9yZS1lbGVtZW50JykgJiYgJChlLnRhcmdldCkgfHwgJChlLnRhcmdldCkucGFyZW50cygnLmF2YXRhcnNfX21vcmUtZWxlbWVudCcpLmxlbmd0aCAmJiAkKCQoZS50YXJnZXQpLnBhcmVudHMoJy5hdmF0YXJzX19tb3JlLWVsZW1lbnQnKVswXSkgfHwgbnVsbDtcbiAgICBtb3JlRWxlbWVudCAmJiAobW9yZUVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2F2YXRhcnNfX21vcmUtZWxlbWVudC0tYWN0aXZlJyksIG1vcmVFbGVtZW50LmZpbmQoJy5hdmF0YXJzX19tb3JlLXRleHQnKS5zbGlkZVRvZ2dsZSg0MDApKTtcbiAgfSk7XG4gICQoXCIucG9wYXBfX3Rlc3QgLnBvcGFwX19jbG9zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyDQl9Cw0L/RgNC+0YEg0L3QsCDRgdC10YDQstC10YAg0LXRgdC70Lgg0LfQsNC60YDRi9C70Lgg0YLQtdGB0YJcbiAgICAvLyAv0JfQsNC/0YDQvtGBINC90LAg0YHQtdGA0LLQtdGAINC10YHQu9C4INC30LDQutGA0YvQu9C4INGC0LXRgdGCXG5cbiAgICBjbG9zZVBvcGFwKCk7XG4gIH0pO1xuICAkKFwiLm1vZGFsLW92ZXJsYXlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcyhcIm1vZGFsLW92ZXJsYXktLWFjdGl2ZVwiKSkgY2xvc2VQb3BhcCgpO1xuICB9KTtcbiAgJCgnLnBvcGFwX19jb250ZW50LWFuc3dlci1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdwb3BhcF9fY29udGVudC1hbnN3ZXItLWFjdGl2ZScpO1xuICAgICQodGhpcykucGFyZW50cygnLnBvcGFwX19jb250ZW50LXN0YWdlJykuZmluZCgnLnBvcGFwX19jb250ZW50LWJ1dHRvbi0tbmV4dCcpLmFkZENsYXNzKCdwb3BhcF9fY29udGVudC1idXR0b24tLWRpc2FibGUnKTtcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5wb3BhcF9fY29udGVudC1zdGVwJykuZmluZCgnLnBvcGFwX19jb250ZW50LWFuc3dlci1pbnB1dCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgJiYgJCh0aGlzKS5wYXJlbnRzKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UnKS5maW5kKCcucG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1uZXh0JykucmVtb3ZlQ2xhc3MoJ3BvcGFwX19jb250ZW50LWJ1dHRvbi0tZGlzYWJsZScpO1xuICAgIH0pOyAvLyAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSAmJiAkKHRoaXMpLnBhcmVudHMoJy5wb3BhcF9fY29udGVudC1zdGFnZScpLmZpbmQoJy5wb3BhcF9fY29udGVudC1idXR0b24tLW5leHQnKS5yZW1vdmVDbGFzcygncG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1kaXNhYmxlJylcbiAgICAvLyAkKCcucG9wYXBfX2NvbnRlbnQtYW5zd2VyLWlucHV0JykuZWFjaCgoaW5kZXgsIGl0ZW0pID0+IHtcbiAgICAvLyAgICAgY29uc29sZS5sb2coaXRlbSlcbiAgICAvLyB9KVxuICB9KTtcbiAgJCgnLnBvcGFwX19jb250ZW50LXN0YWdlLS1zdGFydCAuYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCgnLnBvcGFwX19jb250ZW50LXN0YWdlLS10ZXN0JykudG9nZ2xlQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0YWdlLS1oaWRkZW4nKTtcbiAgICAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLXN0YXJ0JykudG9nZ2xlQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0YWdlLS1oaWRkZW4nKTtcbiAgICAkKCcucG9wYXBfX2NvbnRlbnQtc3RlcFtkYXRhLW51bWJlci1xdWVzdGlvbj1cIjFcIl0nKS50b2dnbGVDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RlcC0taGlkZGVuJyk7XG4gICAgJCgnLnBvcGFwX19jb250ZW50LXN0ZXBbZGF0YS1udW1iZXItcXVlc3Rpb249XCIxXCJdJykudG9nZ2xlQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnQnKTtcbiAgICB0aW1lcigxMCk7XG4gIH0pO1xuICAkKCcucG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1uZXh0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoJCgnLnBvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnQnKS5uZXh0KCkuaGFzQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0ZXAnKSkge1xuICAgICAgdmFyIGN1cnJlbnRTdGVwID0gJCgnLnBvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnQnKTtcbiAgICAgICQoJy5wb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50JykubmV4dCgpLnJlbW92ZUNsYXNzKCdwb3BhcF9fY29udGVudC1zdGVwLS1oaWRkZW4nKTtcbiAgICAgICQoJy5wb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50JykubmV4dCgpLmFkZENsYXNzKCdwb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50Jyk7XG4gICAgICBjdXJyZW50U3RlcC5hZGRDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RlcC0taGlkZGVuJyk7XG4gICAgICBjdXJyZW50U3RlcC5yZW1vdmVDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpO1xuICAgICAgJChcIi5wb3BhcF9fY29udGVudC1hbW91bnQtLWN1cnJlbnRcIikudGV4dCgkKCcucG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpLmRhdGEoJ251bWJlci1xdWVzdGlvbicpKTtcbiAgICAgICQoJy5wb3BhcF9fY29udGVudC1idXR0b24tLW5leHQnKS5hZGRDbGFzcygncG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1kaXNhYmxlJyk7XG4gICAgICAkKCcucG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1iYWNrJykucmVtb3ZlQ2xhc3MoJ3BvcGFwX19jb250ZW50LWJ1dHRvbi0tZGlzYWJsZScpO1xuICAgICAgJChcIi5wb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50XCIpLmZpbmQoJy5wb3BhcF9fY29udGVudC1hbnN3ZXItaW5wdXQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgJiYgJCgnLnBvcGFwX19jb250ZW50LWJ1dHRvbi0tbmV4dCcpLnJlbW92ZUNsYXNzKCdwb3BhcF9fY29udGVudC1idXR0b24tLWRpc2FibGUnKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJyQ2hlY2tlZEFuc3dlciA9IFtdO1xuICAgICAgJCgnLnBvcGFwX19jb250ZW50LXN0YWdlLS10ZXN0JykuZmluZCgnLnBvcGFwX19jb250ZW50LWFuc3dlci1pbnB1dCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSAmJiBhcnJDaGVja2VkQW5zd2VyLnB1c2goJCh0aGlzKS5wYXJlbnQoKS5kYXRhKCdhbnN3ZXInKSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBhID0ge1xuICAgICAgICBcIjcwMWIzODliODQ4YTJiMWNmYWI4NjcwOTMxMDFkOGQ1YWM1NmFkZGRcIjogWzEsIDcsIDEzXSxcbiAgICAgICAgJzZhZjQ5Yzk5MTQ4ZDEzZDdmYTdmZjA1ZDYyN2U1NjFmN2Q1M2ExOTQnOiBbMiwgNSwgOSwgMTAsIDExXVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIGEpIHtcbiAgICAgICAga2V5ID09PSBzaGExKCQoJy5wb3BhcF9fdGVzdCcpLnByb3AoJ2lkJykpICYmIEpTT04uc3RyaW5naWZ5KGFba2V5XSkgPT0gSlNPTi5zdHJpbmdpZnkoYXJyQ2hlY2tlZEFuc3dlcikgJiYgKGFqYXhSZXF1ZXN0KCQoJy5wb3BhcF9fdGVzdCcpLnByb3AoJ2lkJyksIFwidGVzdC5waHBcIiksIC8vINCS0L7RgiDRgtGD0YIg0L/RgNC+0LjRgdGF0L7QtNC40YIg0L7RgtC/0YDQsNCy0LrQsCwg0LXRgdC70Lgg0YLQtdGB0YIg0L/RgNC+0LnQtNC10L0g0YPRgdC/0LXRiNC90L5cbiAgICAgICAgY2hlY2tUZXN0VmVyaWZ5ID0gdHJ1ZSwgJCgnLnBvcGFwX19jb250ZW50LXN0YWdlLS10ZXN0JykuYWRkQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0YWdlLS1oaWRkZW4nKSwgJCgnLnBvcGFwX19jb250ZW50LXN0YWdlLS1zdWNjZXNzJykucmVtb3ZlQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0YWdlLS1oaWRkZW4nKSwgJCgnLmludGVydmlld19fYmxvY2snKS5yZW1vdmUoKSwgJCgnLmludGVydmlld19fYm94LS13aGFpdCcpLnJlbW92ZUNsYXNzKCdpbnRlcnZpZXdfX2JveC0taGlkZGVuJykpO1xuICAgICAgfVxuXG4gICAgICAhY2hlY2tUZXN0VmVyaWZ5ICYmIChhamF4UmVxdWVzdCgkKCcucG9wYXBfX3Rlc3QnKS5wcm9wKCdpZCcpLCBcInRlc3QucGhwXCIpLCAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLXRlc3QnKS5hZGRDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWhpZGRlbicpLCAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWZhaWwnKS5yZW1vdmVDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWhpZGRlbicpLCAkKCcuaW50ZXJ2aWV3X19ibG9jaycpLnJlbW92ZSgpLCAkKCcuaW50ZXJ2aWV3X19ib3gtLWJsb2NrJykucmVtb3ZlQ2xhc3MoJ2ludGVydmlld19fYm94LS1oaWRkZW4nKSk7XG4gICAgfVxuICB9KTtcbiAgJCgnLnBvcGFwX19jb250ZW50LWJ1dHRvbi0tYmFjaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBjdXJyZW50U3RlcCA9ICQoJy5wb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50Jyk7XG4gICAgJCgnLnBvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnQnKS5wcmV2KCkucmVtb3ZlQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0ZXAtLWhpZGRlbicpO1xuICAgICQoJy5wb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50JykucHJldigpLmFkZENsYXNzKCdwb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50Jyk7XG4gICAgY3VycmVudFN0ZXAuYWRkQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0ZXAtLWhpZGRlbicpO1xuICAgIGN1cnJlbnRTdGVwLnJlbW92ZUNsYXNzKCdwb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50Jyk7XG4gICAgJChcIi5wb3BhcF9fY29udGVudC1hbW91bnQtLWN1cnJlbnRcIikudGV4dCgkKCcucG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpLmRhdGEoJ251bWJlci1xdWVzdGlvbicpKTtcbiAgICAkKCcucG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpLmRhdGEoJ251bWJlci1xdWVzdGlvbicpID09PSAxICYmICQoJy5wb3BhcF9fY29udGVudC1idXR0b24tLWJhY2snKS5hZGRDbGFzcygncG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1kaXNhYmxlJyk7XG4gICAgJCgnLnBvcGFwX19jb250ZW50LWJ1dHRvbi0tbmV4dCcpLnJlbW92ZUNsYXNzKCdwb3BhcF9fY29udGVudC1idXR0b24tLWRpc2FibGUnKTtcbiAgfSk7XG4gICQoJ2JvZHknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICQoZS50YXJnZXQpLmhhc0NsYXNzKCd2YWNhbmNpZXNfX2JveC1tb3JlJykgJiYgKHNjcm9sbEVtdWxhdGlvbigpLCAkKCcubW9kYWwtb3ZlcmxheScpLnRvZ2dsZUNsYXNzKCdtb2RhbC1vdmVybGF5LS1hY3RpdmUnKSwgJCgnLnBvcGFwX19pbmZvJykudG9nZ2xlQ2xhc3MoJ3BvcGFwLS1hY3RpdmUnKSk7XG4gICAgdmFyIHNoYXJlID0gJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3BvcGFwX19jbG9zZScpICYmICQoZS50YXJnZXQpIHx8ICQoZS50YXJnZXQpLnBhcmVudHMoJy5wb3BhcF9fY2xvc2UnKS5sZW5ndGggJiYgJCgkKGUudGFyZ2V0KS5wYXJlbnRzKCcucG9wYXBfX2Nsb3NlJylbMF0pIHx8IG51bGw7XG4gICAgc2hhcmUgJiYgKCQoJy5tb2RhbC1vdmVybGF5JykucmVtb3ZlQ2xhc3MoJ21vZGFsLW92ZXJsYXktLWFjdGl2ZScpLCAkKCcucG9wYXBfX2luZm8nKS5yZW1vdmVDbGFzcygncG9wYXAtLWFjdGl2ZScpKTtcbiAgfSk7IC8vIC9ldmVudFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHVuaXF1ZSBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIHRpbWVyKHRpbWUpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIHRpbWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2Vjb25kcyA9IG5ldyBEYXRlKCkuZ2V0TWludXRlcygpICogNjAgKyBuZXcgRGF0ZSgpLmdldFNlY29uZHMoKSAtIChkYXRlLmdldE1pbnV0ZXMoKSAqIDYwICsgZGF0ZS5nZXRTZWNvbmRzKCkpO1xuICAgICAgdmFyIHJlbWFpbmRlciA9ICh0aW1lIC0gc2Vjb25kcykgJSA2MDtcbiAgICAgIGNoZWNrVGVzdFZlcmlmeSAmJiBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpO1xuICAgICAgc2Vjb25kcyA9PT0gdGltZSArIDEgPyAoY2xlYXJJbnRlcnZhbCh0aW1lckludGVydmFsKSwgJCgnLnBvcGFwX19jb250ZW50LXN0YWdlLS10ZXN0JykuYWRkQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0YWdlLS1oaWRkZW4nKSwgJCgnLnBvcGFwX19jb250ZW50LXN0YWdlLS1mYWlsJykucmVtb3ZlQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0YWdlLS1oaWRkZW4nKSwgJCgnLmludGVydmlld19fYmxvY2snKS5yZW1vdmUoKSwgJCgnLmludGVydmlld19fYm94LS1ibG9jaycpLnJlbW92ZUNsYXNzKCdpbnRlcnZpZXdfX2JveC0taGlkZGVuJykgLy8g0J7RgtC/0YDQsNCy0LrQsCDRhNC+0YDQvNGLLCDQtdGB0LvQuCDQstGA0LXQvNGPINC40YHRgtC10LrQu9C+XG4gICAgICAvLyAv0J7RgtC/0YDQsNCy0LrQsCDRhNC+0YDQvNGLLCDQtdGB0LvQuCDQstGA0LXQvNGPINC40YHRgtC10LrQu9C+XG4gICAgICApIDogKCQoJy5wb3BhcF9fY29udGVudC10aW1lcicpLnRleHQoXCJcIi5jb25jYXQoTWF0aC50cnVuYygodGltZSAtIHNlY29uZHMpIC8gNjApLCBcIjpcIikuY29uY2F0KHJlbWFpbmRlciA8IDEwID8gJzAnICsgcmVtYWluZGVyIDogcmVtYWluZGVyKSksICQoJy5wb3BhcF9fY29udGVudC1pbmRpY2F0b3InKS5jc3MoJ3dpZHRoJywgcGFyc2VGbG9hdCgkKCcucG9wYXBfX2NvbnRlbnQtaW5kaWNhdG9yJykuY3NzKCd3aWR0aCcpKSArIDY1MCAvIHRpbWUgKyAncHgnKSk7XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBtb2RhbEFjdGl2ZSgpIHtcbiAgICBpZiAoISQodGhpcykucGFyZW50cygnLnBvcGFwX190ZXN0JykubGVuZ3RoKSB7XG4gICAgICAhJCgnLm1vZGFsJykuaGFzQ2xhc3MoJ21vZGFsLS1vcGVuJykgJiYgc2Nyb2xsRW11bGF0aW9uKCk7XG4gICAgICAkKCcubW9kYWwnKS5hZGRDbGFzcygnbW9kYWwtLW9wZW4nKTtcbiAgICAgICQoJy5tb2RhbF9fc3dpdGNoLWxhYmVsLS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnbW9kYWxfX3N3aXRjaC1sYWJlbC0tYWN0aXZlJyk7XG4gICAgICAkKCcubW9kYWwgLmZvcm0nKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fc3dpdGNoJykuZmFkZUluKDMwMCk7XG4gICAgICAkKCcubW9kYWwgLm1vZGFsX19xdWljaycpLmZhZGVJbigzMDApO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fdGV4dC0tcXVpY2snKS5mYWRlSW4oMzAwKTtcblxuICAgICAgc3dpdGNoICgkKHRoaXMpLmRhdGEoJ3R5cGUtYnV0dG9uJykpIHtcbiAgICAgICAgY2FzZSAncmVnaXN0ZXInOlxuICAgICAgICAgICQoXCIubW9kYWxfX3N3aXRjaC1sYWJlbFtkYXRhLXR5cGUtYnV0dG9uPVxcXCJyZWdpc3RlclxcXCJdXCIpLmFkZENsYXNzKCdtb2RhbF9fc3dpdGNoLWxhYmVsLS1hY3RpdmUnKTtcbiAgICAgICAgICAkKCcubW9kYWwgLnJlZ2lzdHJhdGlvbicpLmZhZGVJbigzMDApO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3NpZ24taW4nOlxuICAgICAgICAgICQoXCIubW9kYWxfX3N3aXRjaC1sYWJlbFtkYXRhLXR5cGUtYnV0dG9uPVxcXCJzaWduLWluXFxcIl1cIikuYWRkQ2xhc3MoJ21vZGFsX19zd2l0Y2gtbGFiZWwtLWFjdGl2ZScpO1xuICAgICAgICAgICQoJy5tb2RhbCAuc2lnbi1pbicpLmZhZGVJbigzMDApO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3Jlc2V0LXBhc3N3b3JkJzpcbiAgICAgICAgICAkKCcubW9kYWwgLnJlc2V0LXBhc3N3b3JkJykuZmFkZUluKDMwMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IC8vINCk0YPQvdC60YbQuNGPINCy0YvQt9C+0LLQsCDRhNC+0YDQvNGLINCy0LLQvtC00LAg0L3QvtCy0L7Qs9C+INC/0LDRgNC+0LvRj1xuXG5cbiAgZnVuY3Rpb24gY2FsbE5ld1Bhc3N3b3JkKCkge1xuICAgIG1vZGFsQWN0aXZlKCk7IC8v0JzQvtC20L3QviDQvtGC0LrQu9GO0YfQuNGC0Ywg0LXRgdC70Lgg0L3QtSDQvdGD0LbQvdC+INCw0LLRgtC+0L7RgtC60YDRi9GC0LjQtSDQv9C70LDRiNC60LhcblxuICAgICQoJy5tb2RhbCAubW9kYWxfX3N3aXRjaCcpLmZhZGVPdXQoMCk7XG4gICAgJCgnLm1vZGFsIC5tb2RhbF9fcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICQoJy5tb2RhbCAubW9kYWxfX3RleHQtLXF1aWNrJykuZmFkZU91dCgwKTtcbiAgICAkKCcubW9kYWwgLm5ldy1wYXNzd29yZCcpLmZhZGVJbigzMDApO1xuICB9IC8vIC/QpNGD0L3QutGG0LjRjyDQstGL0LfQvtCy0LAg0YTQvtGA0LzRiyDQstCy0L7QtNCwINC90L7QstC+0LPQviDQv9Cw0YDQvtC70Y9cbiAgLy8g0KTRg9C90LrRhtC40Y8g0LLRi9C30L7QstCwINCx0LvQsNCz0L7QtNCw0YDQvdC+0YHRgtC4XG5cblxuICBmdW5jdGlvbiBjYWxsVGhhbmtzKCkge1xuICAgIG1vZGFsQWN0aXZlKCk7IC8v0JzQvtC20L3QviDQvtGC0LrQu9GO0YfQuNGC0Ywg0LXRgdC70Lgg0L3QtSDQvdGD0LbQvdC+INCw0LLRgtC+0L7RgtC60YDRi9GC0LjQtSDQv9C70LDRiNC60LhcblxuICAgICQoJy5tb2RhbCAubW9kYWxfX3N3aXRjaCcpLmZhZGVPdXQoMCk7XG4gICAgJCgnLm1vZGFsIC5tb2RhbF9fcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICQoJy5tb2RhbCAubW9kYWxfX3RleHQtLXF1aWNrJykuZmFkZU91dCgwKTtcbiAgICAkKCcubW9kYWwgLnRoYW5rcycpLmZhZGVJbigzMDApO1xuICB9IC8vIC/QpNGD0L3QutGG0LjRjyDQstGL0LfQvtCy0LAg0LHQu9Cw0LPQvtC00LDRgNC90L7RgdGC0LhcbiAgLy8gL3VuaXF1ZSBmdW5jdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFBhZ2UgbG9hZFxuXG5cbiAgJCh3aW5kb3cpLndpZHRoKCkgPD0gNzAwICYmICQoJy5jb21wYW55X190ZXh0JykuYXBwZW5kVG8oJy5jb21wYW55IC5jb250YWluZXInKTtcblxuICBzd2l0Y2ggKG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLmhhc2gpIHtcbiAgICBjYXNlICcjcmVnJzpcbiAgICAgIG1vZGFsQWN0aXZlKCk7XG4gICAgICAkKFwiLm1vZGFsX19zd2l0Y2gtbGFiZWxbZGF0YS10eXBlLWJ1dHRvbj1cXFwicmVnaXN0ZXJcXFwiXVwiKS5hZGRDbGFzcygnbW9kYWxfX3N3aXRjaC1sYWJlbC0tYWN0aXZlJyk7XG4gICAgICAkKCcubW9kYWwgLnJlZ2lzdHJhdGlvbicpLmZhZGVJbigzMDApO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICcjYXV0aCc6XG4gICAgICBtb2RhbEFjdGl2ZSgpO1xuICAgICAgJChcIi5tb2RhbF9fc3dpdGNoLWxhYmVsW2RhdGEtdHlwZS1idXR0b249XFxcInNpZ24taW5cXFwiXVwiKS5hZGRDbGFzcygnbW9kYWxfX3N3aXRjaC1sYWJlbC0tYWN0aXZlJyk7XG4gICAgICAkKCcubW9kYWwgLnNpZ24taW4nKS5mYWRlSW4oMzAwKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnI3JzdCc6XG4gICAgICBtb2RhbEFjdGl2ZSgpO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fc3dpdGNoJykuZmFkZU91dCgwKTtcbiAgICAgICQoJy5tb2RhbCAubW9kYWxfX3F1aWNrJykuZmFkZU91dCgwKTtcbiAgICAgICQoJy5tb2RhbCAubW9kYWxfX3RleHQtLXF1aWNrJykuZmFkZU91dCgwKTtcbiAgICAgICQoJy5tb2RhbCAucmVzZXQtcGFzc3dvcmQnKS5mYWRlSW4oMzAwKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnI25ldyc6XG4gICAgICBtb2RhbEFjdGl2ZSgpO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fc3dpdGNoJykuZmFkZU91dCgwKTtcbiAgICAgICQoJy5tb2RhbCAubW9kYWxfX3F1aWNrJykuZmFkZU91dCgwKTtcbiAgICAgICQoJy5tb2RhbCAubW9kYWxfX3RleHQtLXF1aWNrJykuZmFkZU91dCgwKTtcbiAgICAgICQoJy5tb2RhbCAubmV3LXBhc3N3b3JkJykuZmFkZUluKDMwMCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJyN0aG5rJzpcbiAgICAgIG1vZGFsQWN0aXZlKCk7XG4gICAgICAkKCcubW9kYWwgLm1vZGFsX19zd2l0Y2gnKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fdGV4dC0tcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC50aGFua3MnKS5mYWRlSW4oMzAwKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgJCh3aW5kb3cpLndpZHRoKCkgPj0gOTAwICYmIE92ZXJsYXlTY3JvbGxiYXJzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmlsdGVyLXN3aXRjaF9fbW9kYWxcIiksIHtcbiAgICBwYWRkaW5nQWJzb2x1dGU6IHRydWVcbiAgfSk7XG4gIG5ldyBTd2lwZXIoJy53ZWJpbmFyc19fc2xpZGVyIC5zd2lwZXItY29udGFpbmVyJywge1xuICAgIHNwYWNlQmV0d2VlbjogMjAsXG4gICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgIGdyYWJDdXJzb3I6IHRydWUsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiAnLndlYmluYXJzX19zbGlkZXIgLnNsaWRlci1hcnJvdy0tcmlnaHQnLFxuICAgICAgcHJldkVsOiAnLndlYmluYXJzX19zbGlkZXIgLnNsaWRlci1hcnJvdy0tbGVmdCdcbiAgICB9XG4gIH0pO1xuICBuZXcgU3dpcGVyKCcudGVhbV9fc2xpZGVyIC5zd2lwZXItY29udGFpbmVyJywge1xuICAgIHNwYWNlQmV0d2VlbjogMjAsXG4gICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgIGdyYWJDdXJzb3I6IHRydWUsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiAnLnRlYW1fX3NsaWRlciAuc2xpZGVyLWFycm93LS1yaWdodCcsXG4gICAgICBwcmV2RWw6ICcudGVhbV9fc2xpZGVyIC5zbGlkZXItYXJyb3ctLWxlZnQnXG4gICAgfSxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgOTAwOiB7XG4gICAgICAgIHNwYWNlQmV0d2VlbjogODBcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2UoX3JlZikge1xuICAgICAgICB2YXIgc2xpZGVzID0gX3JlZi5zbGlkZXMsXG4gICAgICAgICAgICBhY3RpdmVJbmRleCA9IF9yZWYuYWN0aXZlSW5kZXg7XG4gICAgICAgICQod2luZG93KS53aWR0aCgpID4gMTI3OSAmJiAoc2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlLCBpbmRleCkge1xuICAgICAgICAgIGluZGV4IDwgYWN0aXZlSW5kZXggPyAkKHNsaWRlKS5hZGRDbGFzcyhcInN3aXBlci1zbGlkZS1wcmV2LXByZXZcIikgOiAkKHNsaWRlKS5yZW1vdmVDbGFzcyhcInN3aXBlci1zbGlkZS1wcmV2LXByZXZcIik7XG4gICAgICAgIH0pLCBzbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGUsIGluZGV4KSB7XG4gICAgICAgICAgaW5kZXggPiBhY3RpdmVJbmRleCArIDIgPyAkKHNsaWRlKS5hZGRDbGFzcyhcInN3aXBlci1zbGlkZS1uZXh0LW5leHRcIikgOiAkKHNsaWRlKS5yZW1vdmVDbGFzcyhcInN3aXBlci1zbGlkZS1uZXh0LW5leHRcIik7XG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICByZWFjaEVuZDogZnVuY3Rpb24gcmVhY2hFbmQoX3JlZjIpIHtcbiAgICAgICAgdmFyICRlbCA9IF9yZWYyLiRlbDtcbiAgICAgICAgJCh3aW5kb3cpLndpZHRoKCkgPiAxMjc5ICYmICQoJGVsKS5wYXJlbnRzKCcudGVhbV9fc2xpZGVyJykuZmluZCgnLnN3aXBlci1zbGlkZS1uZXh0LW5leHQnKS5yZW1vdmVDbGFzcygnc3dpcGVyLXNsaWRlLW5leHQtbmV4dCcpO1xuICAgICAgfSxcbiAgICAgIGZyb21FZGdlOiBmdW5jdGlvbiBmcm9tRWRnZShfcmVmMykge1xuICAgICAgICB2YXIgJGVsID0gX3JlZjMuJGVsO1xuICAgICAgICAkKHdpbmRvdykud2lkdGgoKSA+IDEyNzkgJiYgJCgkZWwpLnBhcmVudHMoJy50ZWFtX19zbGlkZXInKS5maW5kKCcuc3dpcGVyLXNsaWRlLW5leHQnKS5hZGRDbGFzcygnc3dpcGVyLXNsaWRlLW5leHQtbmV4dCcpO1xuICAgICAgfSxcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoX3JlZjQpIHtcbiAgICAgICAgdmFyIHNsaWRlcyA9IF9yZWY0LnNsaWRlcyxcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gX3JlZjQuYWN0aXZlSW5kZXg7XG4gICAgICAgICQod2luZG93KS53aWR0aCgpID4gMTI3OSAmJiBzbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGUsIGluZGV4KSB7XG4gICAgICAgICAgaW5kZXggPiBhY3RpdmVJbmRleCArIDIgPyAkKHNsaWRlKS5hZGRDbGFzcyhcInN3aXBlci1zbGlkZS1uZXh0LW5leHRcIikgOiAkKHNsaWRlKS5yZW1vdmVDbGFzcyhcInN3aXBlci1zbGlkZS1uZXh0LW5leHRcIik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7IC8vIC9QYWdlIGxvYWRcbn0pOyJdfQ==
