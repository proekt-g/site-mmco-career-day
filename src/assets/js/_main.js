"use strict";document.onreadystatechange=function(){"interactive"===document.readyState&&$(window).width()<=1150&&$(".about__work").appendTo(".about__container")},window.addEventListener("load",function(){var s=!1;function n(){var e=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth)-e;$("body").css({"padding-right":"".concat(t,"px")}),$("body").toggleClass("block")}function p(t,e,a){try{history.replaceState(null,null,"#")}catch(e){console.log(e)}$.ajax({url:e,type:"POST",dataType:"html",data:$("#"+t).serialize(),success:function(e){},error:function(e){"interview-form"===t?(n(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".popap__test").toggleClass("popap--active")):($(a).toggleClass("interview__block-label--close"),$(a).find(".interview__block-label-text").text("Занято"))}})}function t(){$(".input-hidden").prop("checked",!1),$(".modal-overlay").removeClass("modal-overlay--active"),$(".popap").removeClass("popap--active")}function o(e,t){return 0<e&&0<t?Math.PI/2-Math.atan(e/t):e<0&&0<t?Math.PI/2-Math.atan(e/t):e<0&&t<0?Math.PI+Math.atan(t/e):0<e&&t<0?3*Math.PI/2+Math.abs(Math.atan(e/t)):void 0}function a(){if(!$(this).parents(".popap__test").length)switch(!$(".modal").hasClass("modal--open")&&n(),$(".modal").addClass("modal--open"),$(".modal__switch-label--active").removeClass("modal__switch-label--active"),$(".modal .form").fadeOut(0),$(".modal .modal__switch").fadeIn(300),$(".modal .modal__quick").fadeIn(300),$(".modal .modal__text--quick").fadeIn(300),$(this).data("type-button")){case"register":$('.modal__switch-label[data-type-button="register"]').addClass("modal__switch-label--active"),$(".modal .registration").fadeIn(300);break;case"sign-in":$('.modal__switch-label[data-type-button="sign-in"]').addClass("modal__switch-label--active"),$(".modal .sign-in").fadeIn(300);break;case"reset-password":$(".modal .reset-password").fadeIn(300)}}switch($("#registration-form").on("submit",function(e){e.preventDefault(),p("registration-form","test.php")}),$("#sign-in-form").on("submit",function(e){e.preventDefault(),p("sign-in-form","test.php")}),$("#reset-password-form").on("submit",function(e){e.preventDefault(),p("reset-password-form","test.php")}),$("#new-password-form").on("submit",function(e){e.preventDefault(),p("new-password-form","test.php")}),$("#personal-area-edit").on("submit",function(e){e.preventDefault(),p("personal-area-edit","test.php")}),$("#personal-area-edit-cv").on("submit",function(e){e.preventDefault(),p("personal-area-edit-cv","test.php")}),$("#personal-area-edit-video").on("submit",function(e){e.preventDefault(),p("personal-area-edit-video","test.php")}),$("#delete-cv").on("submit",function(e){e.preventDefault(),p("delete-cv","test.php")}),$("#delete-video").on("submit",function(e){e.preventDefault(),p("delete-video","test.php")}),$("#interview-form").on("input",function(e){e.preventDefault(),p("interview-form","test.php",$(e.target).parents(".interview__block-label")[0])}),$(".modal__close").on("click",function(){n(),$(".modal").toggleClass("modal--open")}),$('.modal__info-link[data-type-button="sign-in"]').on("click",function(e){e.preventDefault(),a.bind(this)()}),$('.modal__info-link[data-type-button="reset-password"]').on("click",function(e){e.preventDefault(),a.bind(this)(),$(".modal .modal__switch").fadeOut(0),$(".modal .modal__quick").fadeOut(0),$(".modal .modal__text--quick").fadeOut(0)}),$(".button").on("click",a),$(".modal__switch-label").on("click",a),$(".modal__switch-label").on("click",function(){$(".modal__switch-label--active").removeClass("modal__switch-label--active"),$(this).addClass("modal__switch-label--active")}),$(window).width()<=1150&&$(".menu").on("click",function(){n(),$(this).toggleClass("menu--open")}),document.addEventListener("mousemove",function(e){if(document.querySelector(".eye")){var t=e.x,a=e.y;t-=document.querySelector(".eye").getBoundingClientRect().x+45,a-=document.querySelector(".eye").getBoundingClientRect().y+45,document.querySelector(".eye__wrapper--one .eye").style.transform="rotate(".concat(57.2958*o(t,a),"deg)"),document.querySelector(".eye__wrapper--two .eye").style.transform="rotate(".concat(57.2958*o(t-200,a+34),"deg)")}}),$(".share").on("click",function(){$(this).find(".information-share").toggleClass("information-share--active")}),$(".filter-switch__text").on("click",function(){$(this).parent().toggleClass("filter-switch--active"),$(this).next().slideToggle(400)}),$(".avatars__more").on("click",function(e){$(e.target).hasClass("avatars__more")&&$(e.target)&&$(e.target).toggleClass("avatars__more--active");var t=$(e.target).hasClass("avatars__more-element")&&$(e.target)||$(e.target).parents(".avatars__more-element").length&&$($(e.target).parents(".avatars__more-element")[0])||null;t&&(t.toggleClass("avatars__more-element--active"),t.find(".avatars__more-text").slideToggle(400))}),$(".popap__test .popap__close").on("click",function(e){e.preventDefault(),t()}),$(".modal-overlay").on("click",function(e){$(e.target).hasClass("modal-overlay--active")&&(n(),t())}),$(".popap__content-answer-input").on("input",function(){$(this).parent().toggleClass("popap__content-answer--active"),$(this).parents(".popap__content-stage").find(".popap__content-button--next").addClass("popap__content-button--disable"),$(this).parents(".popap__content-step").find(".popap__content-answer-input").each(function(){$(this).prop("checked")&&$(this).parents(".popap__content-stage").find(".popap__content-button--next").removeClass("popap__content-button--disable")})}),$(".popap__content-stage--start .button").on("click",function(e){var a,n,o;e.preventDefault(),$(".popap__content-stage--test").toggleClass("popap__content-stage--hidden"),$(".popap__content-stage--start").toggleClass("popap__content-stage--hidden"),$('.popap__content-step[data-number-question="1"]').toggleClass("popap__content-step--hidden"),$('.popap__content-step[data-number-question="1"]').toggleClass("popap__content-step--current"),a=10,n=new Date,o=setInterval(function(){var e=60*(new Date).getMinutes()+(new Date).getSeconds()-(60*n.getMinutes()+n.getSeconds()),t=(a-e)%60;s&&clearInterval(o),e===a+1?(clearInterval(o),$(".popap__content-stage--test").addClass("popap__content-stage--hidden"),$(".popap__content-stage--fail").removeClass("popap__content-stage--hidden"),$(".interview__block").remove(),$(".interview-box--block").removeClass("interview-box--hidden")):($(".popap__content-timer").text("".concat(Math.trunc((a-e)/60),":").concat(t<10?"0"+t:t)),$(".popap__content-indicator").css("width",parseFloat($(".popap__content-indicator").css("width"))+650/a+"px"))},1e3)}),$(".popap__content-button--next").on("click",function(e){if(e.preventDefault(),$(".popap__content-step--current").next().hasClass("popap__content-step")){var t=$(".popap__content-step--current");$(".popap__content-step--current").next().removeClass("popap__content-step--hidden"),$(".popap__content-step--current").next().addClass("popap__content-step--current"),t.addClass("popap__content-step--hidden"),t.removeClass("popap__content-step--current"),$(".popap__content-amount--current").text($(".popap__content-step--current").data("number-question")),$(".popap__content-button--next").addClass("popap__content-button--disable"),$(".popap__content-button--back").removeClass("popap__content-button--disable"),$(".popap__content-step--current").find(".popap__content-answer-input").each(function(){$(this).prop("checked")&&$(".popap__content-button--next").removeClass("popap__content-button--disable")})}else{var a=[];$(".popap__content-stage--test").find(".popap__content-answer-input").each(function(){$(this).prop("checked")&&a.push($(this).parent().data("answer"))});var n={"701b389b848a2b1cfab867093101d8d5ac56addd":[1,7,13],"6af49c99148d13d7fa7ff05d627e561f7d53a194":[2,5,9,10,11]};for(var o in n)o===sha1($(".popap__test").prop("id"))&&JSON.stringify(n[o])==JSON.stringify(a)&&(p($(".popap__test").prop("id"),"test.php"),s=!0,$(".popap__content-stage--test").addClass("popap__content-stage--hidden"),$(".popap__content-stage--success").removeClass("popap__content-stage--hidden"),$(".interview__block").remove(),$(".interview-box--whait").removeClass("interview-box--hidden"));!s&&(p($(".popap__test").prop("id"),"test.php"),$(".popap__content-stage--test").addClass("popap__content-stage--hidden"),$(".popap__content-stage--fail").removeClass("popap__content-stage--hidden"),$(".interview__block").remove(),$(".interview-box--block").removeClass("interview-box--hidden"))}}),$(".popap__content-button--back").on("click",function(e){e.preventDefault();var t=$(".popap__content-step--current");$(".popap__content-step--current").prev().removeClass("popap__content-step--hidden"),$(".popap__content-step--current").prev().addClass("popap__content-step--current"),t.addClass("popap__content-step--hidden"),t.removeClass("popap__content-step--current"),$(".popap__content-amount--current").text($(".popap__content-step--current").data("number-question")),1===$(".popap__content-step--current").data("number-question")&&$(".popap__content-button--back").addClass("popap__content-button--disable"),$(".popap__content-button--next").removeClass("popap__content-button--disable")}),$("body").on("click",function(e){$(e.target).hasClass("vacancies__box-more")&&(n(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".popap__info").toggleClass("popap--active")),($(e.target).hasClass("popap__close")&&$(e.target)||$(e.target).parents(".popap__close").length&&$($(e.target).parents(".popap__close")[0])||null)&&(n(),$(".modal-overlay").removeClass("modal-overlay--active"),$(".popap").removeClass("popap--active"))}),$("button.about__edit").on("click",function(){n(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".popap__edit").toggleClass("popap--active")}),$(".about__work .play").on("click",function(){n(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".popap__video").toggleClass("popap--active")}),$(".about__work-box-controls-edit--cv").on("click",function(){n(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".popap__edit-cv").toggleClass("popap--active")}),$(".about__work-box-controls-edit--video").on("click",function(){n(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".popap__edit-video").toggleClass("popap--active")}),$(window).width()<=700&&$(".company__text").appendTo(".company .container"),new URL(window.location.href).hash){case"#reg":a(),$('.modal__switch-label[data-type-button="register"]').addClass("modal__switch-label--active"),$(".modal .registration").fadeIn(300);break;case"#auth":a(),$('.modal__switch-label[data-type-button="sign-in"]').addClass("modal__switch-label--active"),$(".modal .sign-in").fadeIn(300);break;case"#rst":a(),$(".modal .modal__switch").fadeOut(0),$(".modal .modal__quick").fadeOut(0),$(".modal .modal__text--quick").fadeOut(0),$(".modal .reset-password").fadeIn(300);break;case"#new":a(),$(".modal .modal__switch").fadeOut(0),$(".modal .modal__quick").fadeOut(0),$(".modal .modal__text--quick").fadeOut(0),$(".modal .new-password").fadeIn(300);break;case"#thnk":a(),$(".modal .modal__switch").fadeOut(0),$(".modal .modal__quick").fadeOut(0),$(".modal .modal__text--quick").fadeOut(0),$(".modal .thanks").fadeIn(300)}900<=$(window).width()&&OverlayScrollbars(document.querySelectorAll(".filter-switch__modal"),{paddingAbsolute:!0}),3<$(".webinars__slider .swiper-container .swiper-slide").length||$(window).width()<=1150?new Swiper(".webinars__slider .swiper-container",{spaceBetween:20,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:".webinars__slider .slider-arrow--right",prevEl:".webinars__slider .slider-arrow--left"}}):($(".webinars__slider").addClass("webinars__slider--disabled"),$(".webinars .slider-arrow").fadeOut(0)),new Swiper(".team__slider .swiper-container",{spaceBetween:20,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:".team__slider .slider-arrow--right",prevEl:".team__slider .slider-arrow--left"},breakpoints:{900:{spaceBetween:80}},on:{slideChange:function(e){var t=e.slides,a=e.activeIndex;1279<$(window).width()&&(t.each(function(e,t){t<a?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")}),t.each(function(e,t){a+2<t?$(e).addClass("swiper-slide-next-next"):$(e).removeClass("swiper-slide-next-next")}))},reachEnd:function(e){var t=e.$el;1279<$(window).width()&&$(t).parents(".team__slider").find(".swiper-slide-next-next").removeClass("swiper-slide-next-next")},fromEdge:function(e){var t=e.$el;1279<$(window).width()&&$(t).parents(".team__slider").find(".swiper-slide-next").addClass("swiper-slide-next-next")},init:function(e){var t=e.slides,a=e.activeIndex;1279<$(window).width()&&t.each(function(e,t){a+2<t?$(e).addClass("swiper-slide-next-next"):$(e).removeClass("swiper-slide-next-next")})}}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiJCIsIndpbmRvdyIsIndpZHRoIiwiYXBwZW5kVG8iLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tUZXN0VmVyaWZ5Iiwic2Nyb2xsRW11bGF0aW9uIiwiZG9jdW1lbnRXaWR0aCIsInBhcnNlSW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJzY3JvbGxiYXJXaWR0aCIsImlubmVyV2lkdGgiLCJjc3MiLCJwYWRkaW5nLXJpZ2h0IiwiY29uY2F0IiwidG9nZ2xlQ2xhc3MiLCJhamF4UmVxdWVzdCIsImFqYXhGb3JtIiwidXJsIiwiZWxlbWVudCIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJ6IiwiY29uc29sZSIsImxvZyIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJkYXRhIiwic2VyaWFsaXplIiwic3VjY2VzcyIsInJlc3BvbnNlIiwiZXJyb3IiLCJmaW5kIiwidGV4dCIsImNsb3NlUG9wYXAiLCJwcm9wIiwicmVtb3ZlQ2xhc3MiLCJhcmNjdGciLCJ4IiwieSIsIk1hdGgiLCJQSSIsImF0YW4iLCJhYnMiLCJtb2RhbEFjdGl2ZSIsInRoaXMiLCJwYXJlbnRzIiwibGVuZ3RoIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsImZhZGVPdXQiLCJmYWRlSW4iLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsImJpbmQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJwYXJlbnQiLCJuZXh0Iiwic2xpZGVUb2dnbGUiLCJtb3JlRWxlbWVudCIsImVhY2giLCJ0aW1lIiwiZGF0ZSIsInRpbWVySW50ZXJ2YWwiLCJEYXRlIiwic2V0SW50ZXJ2YWwiLCJzZWNvbmRzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJyZW1haW5kZXIiLCJjbGVhckludGVydmFsIiwicmVtb3ZlIiwidHJ1bmMiLCJwYXJzZUZsb2F0IiwiY3VycmVudFN0ZXAiLCJhcnJDaGVja2VkQW5zd2VyIiwicHVzaCIsImEiLCI3MDFiMzg5Yjg0OGEyYjFjZmFiODY3MDkzMTAxZDhkNWFjNTZhZGRkIiwiNmFmNDljOTkxNDhkMTNkN2ZhN2ZmMDVkNjI3ZTU2MWY3ZDUzYTE5NCIsImtleSIsInNoYTEiLCJKU09OIiwic3RyaW5naWZ5IiwicHJldiIsIlVSTCIsImxvY2F0aW9uIiwiaHJlZiIsImhhc2giLCJPdmVybGF5U2Nyb2xsYmFycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwYWRkaW5nQWJzb2x1dGUiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJWaWV3IiwiZ3JhYkN1cnNvciIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJicmVha3BvaW50cyIsIjkwMCIsInNsaWRlQ2hhbmdlIiwiX3JlZiIsInNsaWRlcyIsImFjdGl2ZUluZGV4Iiwic2xpZGUiLCJpbmRleCIsInJlYWNoRW5kIiwiX3JlZjIiLCIkZWwiLCJmcm9tRWRnZSIsIl9yZWYzIiwiaW5pdCIsIl9yZWY0Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBQSxTQUFTQyxtQkFBcUIsV0FDQSxnQkFBeEJELFNBQVNFLFlBQ1hDLEVBQUVDLFFBQVFDLFNBQVcsTUFBUUYsRUFBRSxnQkFBZ0JHLFNBQVMsc0JBSTVERixPQUFPRyxpQkFBaUIsT0FBUSxXQUU5QixJQUFJQyxHQUFrQixFQUl0QixTQUFTQyxJQUNQLElBQUlDLEVBQWdCQyxTQUFTWCxTQUFTWSxnQkFBZ0JDLGFBRWxEQyxFQURlSCxTQUFTUCxPQUFPVyxZQUNDTCxFQUNwQ1AsRUFBRSxRQUFRYSxJQUFJLENBQ1pDLGdCQUFpQixHQUFHQyxPQUFPSixFQUFnQixRQUU3Q1gsRUFBRSxRQUFRZ0IsWUFBWSxTQUd4QixTQUFTQyxFQUFZQyxFQUFVQyxFQUFLQyxHQUNsQyxJQUNFQyxRQUFRQyxhQUFhLEtBQU0sS0FBTSxLQUNqQyxNQUFPQyxH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Q2ZDLEVBQWNTLEVBQU1ULFlBQ0osS0FBcEIvRyxFQUFFQyxRQUFRQyxTQUFrQjRHLEVBQU8zQyxLQUFLLFNBQVU2QyxFQUFPQyxHQUMvQ0YsRUFBYyxFQUF0QkUsRUFBMEJqSCxFQUFFZ0gsR0FBTzdELFNBQVMsMEJBQTRCbkQsRUFBRWdILEdBQU8xRSxZQUFZIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZG9jdW1lbnQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiKSB7XG4gICAgJCh3aW5kb3cpLndpZHRoKCkgPD0gMTE1MCAmJiAkKCcuYWJvdXRfX3dvcmsnKS5hcHBlbmRUbygnLmFib3V0X19jb250YWluZXInKTtcbiAgfVxufTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgLy8gdmFyaWFibGVzXG4gIHZhciBjaGVja1Rlc3RWZXJpZnkgPSBmYWxzZTsgLy8gL3ZhcmlhYmxlc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHVuaXZlcnNhbCBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIHNjcm9sbEVtdWxhdGlvbigpIHtcbiAgICB2YXIgZG9jdW1lbnRXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCk7XG4gICAgdmFyIHdpbmRvd3NXaWR0aCA9IHBhcnNlSW50KHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSB3aW5kb3dzV2lkdGggLSBkb2N1bWVudFdpZHRoO1xuICAgICQoXCJib2R5XCIpLmNzcyh7XG4gICAgICBcInBhZGRpbmctcmlnaHRcIjogXCJcIi5jb25jYXQoc2Nyb2xsYmFyV2lkdGgsIFwicHhcIilcbiAgICB9KTtcbiAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcImJsb2NrXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWpheFJlcXVlc3QoYWpheEZvcm0sIHVybCwgZWxlbWVudCkge1xuICAgIHRyeSB7XG4gICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBcIiNcIik7XG4gICAgfSBjYXRjaCAoeikge1xuICAgICAgY29uc29sZS5sb2coeik7XG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICBkYXRhOiAkKFwiI1wiICsgYWpheEZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgLy8g0KHQtdCw0YDQuNC70LjQt9GD0LXQvCDQvtCx0YrQtdC60YJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHsvL9CU0LDQvdC90YvQtSDQvtGC0L/RgNCw0LLQu9C10L3RiyDRg9GB0L/QtdGI0L3QvlxuICAgICAgICAvLyBsZXQgcmVzdWx0ID0gJC5wYXJzZUpTT04ocmVzcG9uc2UpXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdClcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IocmVzcG9uc2UpIHtcbiAgICAgICAgYWpheEZvcm0gPT09ICdpbnRlcnZpZXctZm9ybScgJiYgLy8gJC5wYXJzZUpTT04ocmVzcG9uc2UpID09PSAndHJ1ZSdcbiAgICAgICAgdHJ1ZSAvLyBmYWxzZVxuICAgICAgICA/IChzY3JvbGxFbXVsYXRpb24oKSwgJCgnLm1vZGFsLW92ZXJsYXknKS50b2dnbGVDbGFzcygnbW9kYWwtb3ZlcmxheS0tYWN0aXZlJyksICQoJy5wb3BhcF9fdGVzdCcpLnRvZ2dsZUNsYXNzKCdwb3BhcC0tYWN0aXZlJykpIDogKCQoZWxlbWVudCkudG9nZ2xlQ2xhc3MoJ2ludGVydmlld19fYmxvY2stbGFiZWwtLWNsb3NlJyksICQoZWxlbWVudCkuZmluZCgnLmludGVydmlld19fYmxvY2stbGFiZWwtdGV4dCcpLnRleHQoJ9CX0LDQvdGP0YLQvicpKTsgLy8g0JTQsNC90L3Ri9C1INC90LUg0L7RgtC/0YDQsNCy0LvQtdC90YtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJC5wYXJzZUpTT04ocmVzcG9uc2UpKVxuICAgICAgICAvLyBhbGVydChcItCe0YjQuNCx0LrQsC4g0JTQsNC90L3Ri9C1INC90LUg0L7RgtC/0YDQsNCy0LvQtdC90YsuXCIpXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVBvcGFwKCkge1xuICAgICQoJy5pbnB1dC1oaWRkZW4nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICQoXCIubW9kYWwtb3ZlcmxheVwiKS5yZW1vdmVDbGFzcyhcIm1vZGFsLW92ZXJsYXktLWFjdGl2ZVwiKTtcbiAgICAkKFwiLnBvcGFwXCIpLnJlbW92ZUNsYXNzKFwicG9wYXAtLWFjdGl2ZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFyY2N0Zyh4LCB5KSB7XG4gICAgaWYgKHggPiAwICYmIHkgPiAwKSByZXR1cm4gTWF0aC5QSSAvIDIgLSBNYXRoLmF0YW4oeCAvIHkpO1xuICAgIGlmICh4IDwgMCAmJiB5ID4gMCkgcmV0dXJuIE1hdGguUEkgLyAyIC0gTWF0aC5hdGFuKHggLyB5KTtcbiAgICBpZiAoeCA8IDAgJiYgeSA8IDApIHJldHVybiBNYXRoLlBJICsgTWF0aC5hdGFuKHkgLyB4KTtcbiAgICBpZiAoeCA+IDAgJiYgeSA8IDApIHJldHVybiAzICogTWF0aC5QSSAvIDIgKyBNYXRoLmFicyhNYXRoLmF0YW4oeCAvIHkpKTsgLy8gcmV0dXJuIE1hdGguUEkgLyAyIC0gTWF0aC5hdGFuKHggLyB5KT9cbiAgfSAvLyAgL3VuaXZlcnNhbCBmdW5jdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIGV2ZW50XG4gIC8vINCk0L7RgNC80LAg0KDQtdCz0LjRgdGC0YDQsNGG0LjQuFxuXG5cbiAgJChcIiNyZWdpc3RyYXRpb24tZm9ybVwiKS5vbihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcInJlZ2lzdHJhdGlvbi1mb3JtXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQvtGA0LzQsCDQoNC10LPQuNGB0YLRgNCw0YbQuNC4XG4gIC8vINCk0L7RgNC80LAg0JLRhdC+0LRcblxuICAkKFwiI3NpZ24taW4tZm9ybVwiKS5vbihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcInNpZ24taW4tZm9ybVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0L7RgNC80LAg0JLRhdC+0LRcbiAgLy8g0KTQvtGA0LzQsCDQodCx0YDQvtGB0LAg0L/QsNGA0L7Qu9GPXG5cbiAgJChcIiNyZXNldC1wYXNzd29yZC1mb3JtXCIpLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwicmVzZXQtcGFzc3dvcmQtZm9ybVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0L7RgNC80LAg0KHQsdGA0L7RgdCwINC/0LDRgNC+0LvRj1xuICAvLyDQpNC+0YDQvNCwINCd0L7QstC+0LPQviDQv9Cw0YDQvtC70Y9cblxuICAkKFwiI25ldy1wYXNzd29yZC1mb3JtXCIpLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwibmV3LXBhc3N3b3JkLWZvcm1cIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC+0YDQvNCwINCd0L7QstC+0LPQviDQv9Cw0YDQvtC70Y9cbiAgLy8g0KTQvtGA0LzQsCDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPINCyINC70LjRh9C90L7QvCDQutCw0LHQuNC90LXRgtC1XG5cbiAgJChcIiNwZXJzb25hbC1hcmVhLWVkaXRcIikub24oXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJwZXJzb25hbC1hcmVhLWVkaXRcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vLyDQpNC+0YDQvNCwINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y8g0LIg0LvQuNGH0L3QvtC8INC60LDQsdC40L3QtdGC0LVcbiAgLy8g0KTQvtGA0LzQsCDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINGA0LXQt9GO0LzQtSDQsiDQu9C40YfQvdC+0Lwg0LrQsNCx0LjQvdC10YLQtVxuXG4gICQoXCIjcGVyc29uYWwtYXJlYS1lZGl0LWN2XCIpLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwicGVyc29uYWwtYXJlYS1lZGl0LWN2XCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLy8g0KTQvtGA0LzQsCDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINGA0LXQt9GO0LzQtSDQsiDQu9C40YfQvdC+0Lwg0LrQsNCx0LjQvdC10YLQtVxuICAvLyDQpNC+0YDQvNCwINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LLQuNC00LXQviDQsiDQu9C40YfQvdC+0Lwg0LrQsNCx0LjQvdC10YLQtVxuXG4gICQoXCIjcGVyc29uYWwtYXJlYS1lZGl0LXZpZGVvXCIpLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwicGVyc29uYWwtYXJlYS1lZGl0LXZpZGVvXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLy8g0KTQvtGA0LzQsCDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCy0LjQtNC10L4g0LIg0LvQuNGH0L3QvtC8INC60LDQsdC40L3QtdGC0LVcbiAgLy8g0YPQtNCw0LvQuNC70Lgg0YDQtdC30Y7QvNC1INCyINC70LjRh9C90L7QvCDQutCw0LHQuNC90LXRgtC1XG5cbiAgJChcIiNkZWxldGUtY3ZcIikub24oXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJkZWxldGUtY3ZcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/Rg9C00LDQu9C40LvQuCDRgNC10LfRjtC80LUg0LIg0LvQuNGH0L3QvtC8INC60LDQsdC40L3QtdGC0LVcbiAgLy8g0YPQtNCw0LvQuNC70Lgg0LLQuNC00LXQviDQsiDQu9C40YfQvdC+0Lwg0LrQsNCx0LjQvdC10YLQtVxuXG4gICQoXCIjZGVsZXRlLXZpZGVvXCIpLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiZGVsZXRlLXZpZGVvXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0YPQtNCw0LvQuNC70Lgg0LLQuNC00LXQviDQsiDQu9C40YfQvdC+0Lwg0LrQsNCx0LjQvdC10YLQtVxuICAvLyDQmtC70LjQuiDQvdCwINCy0YDQtdC80Y8g0YHQvtCx0LXRgdC10LTQvtCy0LDQvdC40Y9cblxuICAkKFwiI2ludGVydmlldy1mb3JtXCIpLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJpbnRlcnZpZXctZm9ybVwiLCBcInRlc3QucGhwXCIsICQoZS50YXJnZXQpLnBhcmVudHMoJy5pbnRlcnZpZXdfX2Jsb2NrLWxhYmVsJylbMF0pO1xuICB9KTsgLy8gL9Ca0LvQuNC6INC90LAg0LLRgNC10LzRjyDRgdC+0LHQtdGB0LXQtNC+0LLQsNC90LjRj1xuXG4gICQoJy5tb2RhbF9fY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgc2Nyb2xsRW11bGF0aW9uKCk7XG4gICAgJCgnLm1vZGFsJykudG9nZ2xlQ2xhc3MoJ21vZGFsLS1vcGVuJyk7XG4gIH0pO1xuICAkKCcubW9kYWxfX2luZm8tbGlua1tkYXRhLXR5cGUtYnV0dG9uPVwic2lnbi1pblwiXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1vZGFsQWN0aXZlLmJpbmQodGhpcykoKTtcbiAgfSk7XG4gICQoJy5tb2RhbF9faW5mby1saW5rW2RhdGEtdHlwZS1idXR0b249XCJyZXNldC1wYXNzd29yZFwiXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1vZGFsQWN0aXZlLmJpbmQodGhpcykoKTtcbiAgICAkKCcubW9kYWwgLm1vZGFsX19zd2l0Y2gnKS5mYWRlT3V0KDApO1xuICAgICQoJy5tb2RhbCAubW9kYWxfX3F1aWNrJykuZmFkZU91dCgwKTtcbiAgICAkKCcubW9kYWwgLm1vZGFsX190ZXh0LS1xdWljaycpLmZhZGVPdXQoMCk7XG4gIH0pO1xuICAkKCcuYnV0dG9uJykub24oJ2NsaWNrJywgbW9kYWxBY3RpdmUpO1xuICAkKCcubW9kYWxfX3N3aXRjaC1sYWJlbCcpLm9uKCdjbGljaycsIG1vZGFsQWN0aXZlKTtcbiAgJCgnLm1vZGFsX19zd2l0Y2gtbGFiZWwnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnLm1vZGFsX19zd2l0Y2gtbGFiZWwtLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdtb2RhbF9fc3dpdGNoLWxhYmVsLS1hY3RpdmUnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdtb2RhbF9fc3dpdGNoLWxhYmVsLS1hY3RpdmUnKTtcbiAgfSk7XG4gICQod2luZG93KS53aWR0aCgpIDw9IDExNTAgJiYgJCgnLm1lbnUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgc2Nyb2xsRW11bGF0aW9uKCk7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnbWVudS0tb3BlbicpO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV5ZScpKSB7XG4gICAgICB2YXIgeCA9IGUueCxcbiAgICAgICAgICB5ID0gZS55O1xuICAgICAgeCAtPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXllJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCArIDQ1O1xuICAgICAgeSAtPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXllJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSArIDQ1O1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV5ZV9fd3JhcHBlci0tb25lIC5leWUnKS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZShcIi5jb25jYXQoNTcuMjk1OCAqIGFyY2N0Zyh4LCB5KSwgXCJkZWcpXCIpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV5ZV9fd3JhcHBlci0tdHdvIC5leWUnKS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZShcIi5jb25jYXQoNTcuMjk1OCAqIGFyY2N0Zyh4IC0gMjAwLCB5ICsgMzQpLCBcImRlZylcIik7XG4gICAgfVxuICB9KTtcbiAgJChcIi5zaGFyZVwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5maW5kKCcuaW5mb3JtYXRpb24tc2hhcmUnKS50b2dnbGVDbGFzcygnaW5mb3JtYXRpb24tc2hhcmUtLWFjdGl2ZScpO1xuICB9KTtcbiAgJChcIi5maWx0ZXItc3dpdGNoX190ZXh0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50KCkudG9nZ2xlQ2xhc3MoXCJmaWx0ZXItc3dpdGNoLS1hY3RpdmVcIik7XG4gICAgJCh0aGlzKS5uZXh0KCkuc2xpZGVUb2dnbGUoNDAwKTtcbiAgfSk7XG4gICQoJy5hdmF0YXJzX19tb3JlJykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICQoZS50YXJnZXQpLmhhc0NsYXNzKCdhdmF0YXJzX19tb3JlJykgJiYgJChlLnRhcmdldCkgJiYgJChlLnRhcmdldCkudG9nZ2xlQ2xhc3MoJ2F2YXRhcnNfX21vcmUtLWFjdGl2ZScpO1xuICAgIHZhciBtb3JlRWxlbWVudCA9ICQoZS50YXJnZXQpLmhhc0NsYXNzKCdhdmF0YXJzX19tb3JlLWVsZW1lbnQnKSAmJiAkKGUudGFyZ2V0KSB8fCAkKGUudGFyZ2V0KS5wYXJlbnRzKCcuYXZhdGFyc19fbW9yZS1lbGVtZW50JykubGVuZ3RoICYmICQoJChlLnRhcmdldCkucGFyZW50cygnLmF2YXRhcnNfX21vcmUtZWxlbWVudCcpWzBdKSB8fCBudWxsO1xuICAgIG1vcmVFbGVtZW50ICYmIChtb3JlRWxlbWVudC50b2dnbGVDbGFzcygnYXZhdGFyc19fbW9yZS1lbGVtZW50LS1hY3RpdmUnKSwgbW9yZUVsZW1lbnQuZmluZCgnLmF2YXRhcnNfX21vcmUtdGV4dCcpLnNsaWRlVG9nZ2xlKDQwMCkpO1xuICB9KTtcbiAgJChcIi5wb3BhcF9fdGVzdCAucG9wYXBfX2Nsb3NlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vINCX0LDQv9GA0L7RgSDQvdCwINGB0LXRgNCy0LXRgCDQtdGB0LvQuCDQt9Cw0LrRgNGL0LvQuCDRgtC10YHRglxuICAgIC8vIC/Ql9Cw0L/RgNC+0YEg0L3QsCDRgdC10YDQstC10YAg0LXRgdC70Lgg0LfQsNC60YDRi9C70Lgg0YLQtdGB0YJcblxuICAgIGNsb3NlUG9wYXAoKTtcbiAgfSk7XG4gICQoXCIubW9kYWwtb3ZlcmxheVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKFwibW9kYWwtb3ZlcmxheS0tYWN0aXZlXCIpKSB7XG4gICAgICBzY3JvbGxFbXVsYXRpb24oKTtcbiAgICAgIGNsb3NlUG9wYXAoKTtcbiAgICB9XG4gIH0pO1xuICAkKCcucG9wYXBfX2NvbnRlbnQtYW5zd2VyLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ3BvcGFwX19jb250ZW50LWFuc3dlci0tYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5wYXJlbnRzKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UnKS5maW5kKCcucG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1uZXh0JykuYWRkQ2xhc3MoJ3BvcGFwX19jb250ZW50LWJ1dHRvbi0tZGlzYWJsZScpO1xuICAgICQodGhpcykucGFyZW50cygnLnBvcGFwX19jb250ZW50LXN0ZXAnKS5maW5kKCcucG9wYXBfX2NvbnRlbnQtYW5zd2VyLWlucHV0JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSAmJiAkKHRoaXMpLnBhcmVudHMoJy5wb3BhcF9fY29udGVudC1zdGFnZScpLmZpbmQoJy5wb3BhcF9fY29udGVudC1idXR0b24tLW5leHQnKS5yZW1vdmVDbGFzcygncG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1kaXNhYmxlJyk7XG4gICAgfSk7IC8vICQodGhpcykucHJvcCgnY2hlY2tlZCcpICYmICQodGhpcykucGFyZW50cygnLnBvcGFwX19jb250ZW50LXN0YWdlJykuZmluZCgnLnBvcGFwX19jb250ZW50LWJ1dHRvbi0tbmV4dCcpLnJlbW92ZUNsYXNzKCdwb3BhcF9fY29udGVudC1idXR0b24tLWRpc2FibGUnKVxuICAgIC8vICQoJy5wb3BhcF9fY29udGVudC1hbnN3ZXItaW5wdXQnKS5lYWNoKChpbmRleCwgaXRlbSkgPT4ge1xuICAgIC8vICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICAgIC8vIH0pXG4gIH0pO1xuICAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLXN0YXJ0IC5idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLXRlc3QnKS50b2dnbGVDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWhpZGRlbicpO1xuICAgICQoJy5wb3BhcF9fY29udGVudC1zdGFnZS0tc3RhcnQnKS50b2dnbGVDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWhpZGRlbicpO1xuICAgICQoJy5wb3BhcF9fY29udGVudC1zdGVwW2RhdGEtbnVtYmVyLXF1ZXN0aW9uPVwiMVwiXScpLnRvZ2dsZUNsYXNzKCdwb3BhcF9fY29udGVudC1zdGVwLS1oaWRkZW4nKTtcbiAgICAkKCcucG9wYXBfX2NvbnRlbnQtc3RlcFtkYXRhLW51bWJlci1xdWVzdGlvbj1cIjFcIl0nKS50b2dnbGVDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpO1xuICAgIHRpbWVyKDEwKTtcbiAgfSk7XG4gICQoJy5wb3BhcF9fY29udGVudC1idXR0b24tLW5leHQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICgkKCcucG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpLm5leHQoKS5oYXNDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RlcCcpKSB7XG4gICAgICB2YXIgY3VycmVudFN0ZXAgPSAkKCcucG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpO1xuICAgICAgJCgnLnBvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnQnKS5uZXh0KCkucmVtb3ZlQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0ZXAtLWhpZGRlbicpO1xuICAgICAgJCgnLnBvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnQnKS5uZXh0KCkuYWRkQ2xhc3MoJ3BvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnQnKTtcbiAgICAgIGN1cnJlbnRTdGVwLmFkZENsYXNzKCdwb3BhcF9fY29udGVudC1zdGVwLS1oaWRkZW4nKTtcbiAgICAgIGN1cnJlbnRTdGVwLnJlbW92ZUNsYXNzKCdwb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50Jyk7XG4gICAgICAkKFwiLnBvcGFwX19jb250ZW50LWFtb3VudC0tY3VycmVudFwiKS50ZXh0KCQoJy5wb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50JykuZGF0YSgnbnVtYmVyLXF1ZXN0aW9uJykpO1xuICAgICAgJCgnLnBvcGFwX19jb250ZW50LWJ1dHRvbi0tbmV4dCcpLmFkZENsYXNzKCdwb3BhcF9fY29udGVudC1idXR0b24tLWRpc2FibGUnKTtcbiAgICAgICQoJy5wb3BhcF9fY29udGVudC1idXR0b24tLWJhY2snKS5yZW1vdmVDbGFzcygncG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1kaXNhYmxlJyk7XG4gICAgICAkKFwiLnBvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnRcIikuZmluZCgnLnBvcGFwX19jb250ZW50LWFuc3dlci1pbnB1dCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSAmJiAkKCcucG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1uZXh0JykucmVtb3ZlQ2xhc3MoJ3BvcGFwX19jb250ZW50LWJ1dHRvbi0tZGlzYWJsZScpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcnJDaGVja2VkQW5zd2VyID0gW107XG4gICAgICAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLXRlc3QnKS5maW5kKCcucG9wYXBfX2NvbnRlbnQtYW5zd2VyLWlucHV0JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcpICYmIGFyckNoZWNrZWRBbnN3ZXIucHVzaCgkKHRoaXMpLnBhcmVudCgpLmRhdGEoJ2Fuc3dlcicpKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGEgPSB7XG4gICAgICAgIFwiNzAxYjM4OWI4NDhhMmIxY2ZhYjg2NzA5MzEwMWQ4ZDVhYzU2YWRkZFwiOiBbMSwgNywgMTNdLFxuICAgICAgICAnNmFmNDljOTkxNDhkMTNkN2ZhN2ZmMDVkNjI3ZTU2MWY3ZDUzYTE5NCc6IFsyLCA1LCA5LCAxMCwgMTFdXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gYSkge1xuICAgICAgICBrZXkgPT09IHNoYTEoJCgnLnBvcGFwX190ZXN0JykucHJvcCgnaWQnKSkgJiYgSlNPTi5zdHJpbmdpZnkoYVtrZXldKSA9PSBKU09OLnN0cmluZ2lmeShhcnJDaGVja2VkQW5zd2VyKSAmJiAoYWpheFJlcXVlc3QoJCgnLnBvcGFwX190ZXN0JykucHJvcCgnaWQnKSwgXCJ0ZXN0LnBocFwiKSwgLy8g0JLQvtGCINGC0YPRgiDQv9GA0L7QuNGB0YXQvtC00LjRgiDQvtGC0L/RgNCw0LLQutCwLCDQtdGB0LvQuCDRgtC10YHRgiDQv9GA0L7QudC00LXQvSDRg9GB0L/QtdGI0L3QvlxuICAgICAgICBjaGVja1Rlc3RWZXJpZnkgPSB0cnVlLCAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLXRlc3QnKS5hZGRDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWhpZGRlbicpLCAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLXN1Y2Nlc3MnKS5yZW1vdmVDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWhpZGRlbicpLCAkKCcuaW50ZXJ2aWV3X19ibG9jaycpLnJlbW92ZSgpLCAkKCcuaW50ZXJ2aWV3LWJveC0td2hhaXQnKS5yZW1vdmVDbGFzcygnaW50ZXJ2aWV3LWJveC0taGlkZGVuJykpO1xuICAgICAgfVxuXG4gICAgICAhY2hlY2tUZXN0VmVyaWZ5ICYmIChhamF4UmVxdWVzdCgkKCcucG9wYXBfX3Rlc3QnKS5wcm9wKCdpZCcpLCBcInRlc3QucGhwXCIpLCAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLXRlc3QnKS5hZGRDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWhpZGRlbicpLCAkKCcucG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWZhaWwnKS5yZW1vdmVDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RhZ2UtLWhpZGRlbicpLCAkKCcuaW50ZXJ2aWV3X19ibG9jaycpLnJlbW92ZSgpLCAkKCcuaW50ZXJ2aWV3LWJveC0tYmxvY2snKS5yZW1vdmVDbGFzcygnaW50ZXJ2aWV3LWJveC0taGlkZGVuJykpO1xuICAgIH1cbiAgfSk7XG4gICQoJy5wb3BhcF9fY29udGVudC1idXR0b24tLWJhY2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgY3VycmVudFN0ZXAgPSAkKCcucG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpO1xuICAgICQoJy5wb3BhcF9fY29udGVudC1zdGVwLS1jdXJyZW50JykucHJldigpLnJlbW92ZUNsYXNzKCdwb3BhcF9fY29udGVudC1zdGVwLS1oaWRkZW4nKTtcbiAgICAkKCcucG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpLnByZXYoKS5hZGRDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpO1xuICAgIGN1cnJlbnRTdGVwLmFkZENsYXNzKCdwb3BhcF9fY29udGVudC1zdGVwLS1oaWRkZW4nKTtcbiAgICBjdXJyZW50U3RlcC5yZW1vdmVDbGFzcygncG9wYXBfX2NvbnRlbnQtc3RlcC0tY3VycmVudCcpO1xuICAgICQoXCIucG9wYXBfX2NvbnRlbnQtYW1vdW50LS1jdXJyZW50XCIpLnRleHQoJCgnLnBvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnQnKS5kYXRhKCdudW1iZXItcXVlc3Rpb24nKSk7XG4gICAgJCgnLnBvcGFwX19jb250ZW50LXN0ZXAtLWN1cnJlbnQnKS5kYXRhKCdudW1iZXItcXVlc3Rpb24nKSA9PT0gMSAmJiAkKCcucG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1iYWNrJykuYWRkQ2xhc3MoJ3BvcGFwX19jb250ZW50LWJ1dHRvbi0tZGlzYWJsZScpO1xuICAgICQoJy5wb3BhcF9fY29udGVudC1idXR0b24tLW5leHQnKS5yZW1vdmVDbGFzcygncG9wYXBfX2NvbnRlbnQtYnV0dG9uLS1kaXNhYmxlJyk7XG4gIH0pO1xuICAkKCdib2R5Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAkKGUudGFyZ2V0KS5oYXNDbGFzcygndmFjYW5jaWVzX19ib3gtbW9yZScpICYmIChzY3JvbGxFbXVsYXRpb24oKSwgJCgnLm1vZGFsLW92ZXJsYXknKS50b2dnbGVDbGFzcygnbW9kYWwtb3ZlcmxheS0tYWN0aXZlJyksICQoJy5wb3BhcF9faW5mbycpLnRvZ2dsZUNsYXNzKCdwb3BhcC0tYWN0aXZlJykpO1xuICAgIHZhciBzaGFyZSA9ICQoZS50YXJnZXQpLmhhc0NsYXNzKCdwb3BhcF9fY2xvc2UnKSAmJiAkKGUudGFyZ2V0KSB8fCAkKGUudGFyZ2V0KS5wYXJlbnRzKCcucG9wYXBfX2Nsb3NlJykubGVuZ3RoICYmICQoJChlLnRhcmdldCkucGFyZW50cygnLnBvcGFwX19jbG9zZScpWzBdKSB8fCBudWxsO1xuICAgIHNoYXJlICYmIChzY3JvbGxFbXVsYXRpb24oKSwgJCgnLm1vZGFsLW92ZXJsYXknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3ZlcmxheS0tYWN0aXZlJyksICQoJy5wb3BhcCcpLnJlbW92ZUNsYXNzKCdwb3BhcC0tYWN0aXZlJykpO1xuICB9KTtcbiAgJCgnYnV0dG9uLmFib3V0X19lZGl0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQoJy5tb2RhbC1vdmVybGF5JykudG9nZ2xlQ2xhc3MoJ21vZGFsLW92ZXJsYXktLWFjdGl2ZScpO1xuICAgICQoJy5wb3BhcF9fZWRpdCcpLnRvZ2dsZUNsYXNzKCdwb3BhcC0tYWN0aXZlJyk7XG4gIH0pO1xuICAkKCcuYWJvdXRfX3dvcmsgLnBsYXknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgc2Nyb2xsRW11bGF0aW9uKCk7XG4gICAgJCgnLm1vZGFsLW92ZXJsYXknKS50b2dnbGVDbGFzcygnbW9kYWwtb3ZlcmxheS0tYWN0aXZlJyk7XG4gICAgJCgnLnBvcGFwX192aWRlbycpLnRvZ2dsZUNsYXNzKCdwb3BhcC0tYWN0aXZlJyk7XG4gIH0pO1xuICAkKCcuYWJvdXRfX3dvcmstYm94LWNvbnRyb2xzLWVkaXQtLWN2Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQoJy5tb2RhbC1vdmVybGF5JykudG9nZ2xlQ2xhc3MoJ21vZGFsLW92ZXJsYXktLWFjdGl2ZScpO1xuICAgICQoJy5wb3BhcF9fZWRpdC1jdicpLnRvZ2dsZUNsYXNzKCdwb3BhcC0tYWN0aXZlJyk7XG4gIH0pO1xuICAkKCcuYWJvdXRfX3dvcmstYm94LWNvbnRyb2xzLWVkaXQtLXZpZGVvJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQoJy5tb2RhbC1vdmVybGF5JykudG9nZ2xlQ2xhc3MoJ21vZGFsLW92ZXJsYXktLWFjdGl2ZScpO1xuICAgICQoJy5wb3BhcF9fZWRpdC12aWRlbycpLnRvZ2dsZUNsYXNzKCdwb3BhcC0tYWN0aXZlJyk7XG4gIH0pOyAvLyAvZXZlbnRcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB1bmlxdWUgZnVuY3Rpb25cblxuICBmdW5jdGlvbiB0aW1lcih0aW1lKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciB0aW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNlY29uZHMgPSBuZXcgRGF0ZSgpLmdldE1pbnV0ZXMoKSAqIDYwICsgbmV3IERhdGUoKS5nZXRTZWNvbmRzKCkgLSAoZGF0ZS5nZXRNaW51dGVzKCkgKiA2MCArIGRhdGUuZ2V0U2Vjb25kcygpKTtcbiAgICAgIHZhciByZW1haW5kZXIgPSAodGltZSAtIHNlY29uZHMpICUgNjA7XG4gICAgICBjaGVja1Rlc3RWZXJpZnkgJiYgY2xlYXJJbnRlcnZhbCh0aW1lckludGVydmFsKTtcbiAgICAgIHNlY29uZHMgPT09IHRpbWUgKyAxID8gKGNsZWFySW50ZXJ2YWwodGltZXJJbnRlcnZhbCksICQoJy5wb3BhcF9fY29udGVudC1zdGFnZS0tdGVzdCcpLmFkZENsYXNzKCdwb3BhcF9fY29udGVudC1zdGFnZS0taGlkZGVuJyksICQoJy5wb3BhcF9fY29udGVudC1zdGFnZS0tZmFpbCcpLnJlbW92ZUNsYXNzKCdwb3BhcF9fY29udGVudC1zdGFnZS0taGlkZGVuJyksICQoJy5pbnRlcnZpZXdfX2Jsb2NrJykucmVtb3ZlKCksICQoJy5pbnRlcnZpZXctYm94LS1ibG9jaycpLnJlbW92ZUNsYXNzKCdpbnRlcnZpZXctYm94LS1oaWRkZW4nKSAvLyDQntGC0L/RgNCw0LLQutCwINGE0L7RgNC80YssINC10YHQu9C4INCy0YDQtdC80Y8g0LjRgdGC0LXQutC70L5cbiAgICAgIC8vIC/QntGC0L/RgNCw0LLQutCwINGE0L7RgNC80YssINC10YHQu9C4INCy0YDQtdC80Y8g0LjRgdGC0LXQutC70L5cbiAgICAgICkgOiAoJCgnLnBvcGFwX19jb250ZW50LXRpbWVyJykudGV4dChcIlwiLmNvbmNhdChNYXRoLnRydW5jKCh0aW1lIC0gc2Vjb25kcykgLyA2MCksIFwiOlwiKS5jb25jYXQocmVtYWluZGVyIDwgMTAgPyAnMCcgKyByZW1haW5kZXIgOiByZW1haW5kZXIpKSwgJCgnLnBvcGFwX19jb250ZW50LWluZGljYXRvcicpLmNzcygnd2lkdGgnLCBwYXJzZUZsb2F0KCQoJy5wb3BhcF9fY29udGVudC1pbmRpY2F0b3InKS5jc3MoJ3dpZHRoJykpICsgNjUwIC8gdGltZSArICdweCcpKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vZGFsQWN0aXZlKCkge1xuICAgIGlmICghJCh0aGlzKS5wYXJlbnRzKCcucG9wYXBfX3Rlc3QnKS5sZW5ndGgpIHtcbiAgICAgICEkKCcubW9kYWwnKS5oYXNDbGFzcygnbW9kYWwtLW9wZW4nKSAmJiBzY3JvbGxFbXVsYXRpb24oKTtcbiAgICAgICQoJy5tb2RhbCcpLmFkZENsYXNzKCdtb2RhbC0tb3BlbicpO1xuICAgICAgJCgnLm1vZGFsX19zd2l0Y2gtbGFiZWwtLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdtb2RhbF9fc3dpdGNoLWxhYmVsLS1hY3RpdmUnKTtcbiAgICAgICQoJy5tb2RhbCAuZm9ybScpLmZhZGVPdXQoMCk7XG4gICAgICAkKCcubW9kYWwgLm1vZGFsX19zd2l0Y2gnKS5mYWRlSW4oMzAwKTtcbiAgICAgICQoJy5tb2RhbCAubW9kYWxfX3F1aWNrJykuZmFkZUluKDMwMCk7XG4gICAgICAkKCcubW9kYWwgLm1vZGFsX190ZXh0LS1xdWljaycpLmZhZGVJbigzMDApO1xuXG4gICAgICBzd2l0Y2ggKCQodGhpcykuZGF0YSgndHlwZS1idXR0b24nKSkge1xuICAgICAgICBjYXNlICdyZWdpc3Rlcic6XG4gICAgICAgICAgJChcIi5tb2RhbF9fc3dpdGNoLWxhYmVsW2RhdGEtdHlwZS1idXR0b249XFxcInJlZ2lzdGVyXFxcIl1cIikuYWRkQ2xhc3MoJ21vZGFsX19zd2l0Y2gtbGFiZWwtLWFjdGl2ZScpO1xuICAgICAgICAgICQoJy5tb2RhbCAucmVnaXN0cmF0aW9uJykuZmFkZUluKDMwMCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnc2lnbi1pbic6XG4gICAgICAgICAgJChcIi5tb2RhbF9fc3dpdGNoLWxhYmVsW2RhdGEtdHlwZS1idXR0b249XFxcInNpZ24taW5cXFwiXVwiKS5hZGRDbGFzcygnbW9kYWxfX3N3aXRjaC1sYWJlbC0tYWN0aXZlJyk7XG4gICAgICAgICAgJCgnLm1vZGFsIC5zaWduLWluJykuZmFkZUluKDMwMCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmVzZXQtcGFzc3dvcmQnOlxuICAgICAgICAgICQoJy5tb2RhbCAucmVzZXQtcGFzc3dvcmQnKS5mYWRlSW4oMzAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8g0KTRg9C90LrRhtC40Y8g0LLRi9C30L7QstCwINGE0L7RgNC80Ysg0LLQstC+0LTQsCDQvdC+0LLQvtCz0L4g0L/QsNGA0L7Qu9GPXG5cblxuICBmdW5jdGlvbiBjYWxsTmV3UGFzc3dvcmQoKSB7XG4gICAgbW9kYWxBY3RpdmUoKTsgLy/QnNC+0LbQvdC+INC+0YLQutC70Y7Rh9C40YLRjCDQtdGB0LvQuCDQvdC1INC90YPQttC90L4g0LDQstGC0L7QvtGC0LrRgNGL0YLQuNC1INC/0LvQsNGI0LrQuFxuXG4gICAgJCgnLm1vZGFsIC5tb2RhbF9fc3dpdGNoJykuZmFkZU91dCgwKTtcbiAgICAkKCcubW9kYWwgLm1vZGFsX19xdWljaycpLmZhZGVPdXQoMCk7XG4gICAgJCgnLm1vZGFsIC5tb2RhbF9fdGV4dC0tcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICQoJy5tb2RhbCAubmV3LXBhc3N3b3JkJykuZmFkZUluKDMwMCk7XG4gIH0gLy8gL9Ck0YPQvdC60YbQuNGPINCy0YvQt9C+0LLQsCDRhNC+0YDQvNGLINCy0LLQvtC00LAg0L3QvtCy0L7Qs9C+INC/0LDRgNC+0LvRj1xuICAvLyDQpNGD0L3QutGG0LjRjyDQstGL0LfQvtCy0LAg0LHQu9Cw0LPQvtC00LDRgNC90L7RgdGC0LhcblxuXG4gIGZ1bmN0aW9uIGNhbGxUaGFua3MoKSB7XG4gICAgbW9kYWxBY3RpdmUoKTsgLy/QnNC+0LbQvdC+INC+0YLQutC70Y7Rh9C40YLRjCDQtdGB0LvQuCDQvdC1INC90YPQttC90L4g0LDQstGC0L7QvtGC0LrRgNGL0YLQuNC1INC/0LvQsNGI0LrQuFxuXG4gICAgJCgnLm1vZGFsIC5tb2RhbF9fc3dpdGNoJykuZmFkZU91dCgwKTtcbiAgICAkKCcubW9kYWwgLm1vZGFsX19xdWljaycpLmZhZGVPdXQoMCk7XG4gICAgJCgnLm1vZGFsIC5tb2RhbF9fdGV4dC0tcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICQoJy5tb2RhbCAudGhhbmtzJykuZmFkZUluKDMwMCk7XG4gIH0gLy8gL9Ck0YPQvdC60YbQuNGPINCy0YvQt9C+0LLQsCDQsdC70LDQs9C+0LTQsNGA0L3QvtGB0YLQuFxuICAvLyAvdW5pcXVlIGZ1bmN0aW9uXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gUGFnZSBsb2FkXG5cblxuICAkKHdpbmRvdykud2lkdGgoKSA8PSA3MDAgJiYgJCgnLmNvbXBhbnlfX3RleHQnKS5hcHBlbmRUbygnLmNvbXBhbnkgLmNvbnRhaW5lcicpO1xuXG4gIHN3aXRjaCAobmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikuaGFzaCkge1xuICAgIGNhc2UgJyNyZWcnOlxuICAgICAgbW9kYWxBY3RpdmUoKTtcbiAgICAgICQoXCIubW9kYWxfX3N3aXRjaC1sYWJlbFtkYXRhLXR5cGUtYnV0dG9uPVxcXCJyZWdpc3RlclxcXCJdXCIpLmFkZENsYXNzKCdtb2RhbF9fc3dpdGNoLWxhYmVsLS1hY3RpdmUnKTtcbiAgICAgICQoJy5tb2RhbCAucmVnaXN0cmF0aW9uJykuZmFkZUluKDMwMCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJyNhdXRoJzpcbiAgICAgIG1vZGFsQWN0aXZlKCk7XG4gICAgICAkKFwiLm1vZGFsX19zd2l0Y2gtbGFiZWxbZGF0YS10eXBlLWJ1dHRvbj1cXFwic2lnbi1pblxcXCJdXCIpLmFkZENsYXNzKCdtb2RhbF9fc3dpdGNoLWxhYmVsLS1hY3RpdmUnKTtcbiAgICAgICQoJy5tb2RhbCAuc2lnbi1pbicpLmZhZGVJbigzMDApO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICcjcnN0JzpcbiAgICAgIG1vZGFsQWN0aXZlKCk7XG4gICAgICAkKCcubW9kYWwgLm1vZGFsX19zd2l0Y2gnKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fdGV4dC0tcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC5yZXNldC1wYXNzd29yZCcpLmZhZGVJbigzMDApO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICcjbmV3JzpcbiAgICAgIG1vZGFsQWN0aXZlKCk7XG4gICAgICAkKCcubW9kYWwgLm1vZGFsX19zd2l0Y2gnKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC5tb2RhbF9fdGV4dC0tcXVpY2snKS5mYWRlT3V0KDApO1xuICAgICAgJCgnLm1vZGFsIC5uZXctcGFzc3dvcmQnKS5mYWRlSW4oMzAwKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnI3RobmsnOlxuICAgICAgbW9kYWxBY3RpdmUoKTtcbiAgICAgICQoJy5tb2RhbCAubW9kYWxfX3N3aXRjaCcpLmZhZGVPdXQoMCk7XG4gICAgICAkKCcubW9kYWwgLm1vZGFsX19xdWljaycpLmZhZGVPdXQoMCk7XG4gICAgICAkKCcubW9kYWwgLm1vZGFsX190ZXh0LS1xdWljaycpLmZhZGVPdXQoMCk7XG4gICAgICAkKCcubW9kYWwgLnRoYW5rcycpLmZhZGVJbigzMDApO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICAkKHdpbmRvdykud2lkdGgoKSA+PSA5MDAgJiYgT3ZlcmxheVNjcm9sbGJhcnMoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5maWx0ZXItc3dpdGNoX19tb2RhbFwiKSwge1xuICAgIHBhZGRpbmdBYnNvbHV0ZTogdHJ1ZVxuICB9KTtcbiAgJCgnLndlYmluYXJzX19zbGlkZXIgLnN3aXBlci1jb250YWluZXIgLnN3aXBlci1zbGlkZScpLmxlbmd0aCA+IDMgfHwgJCh3aW5kb3cpLndpZHRoKCkgPD0gMTE1MCA/IG5ldyBTd2lwZXIoJy53ZWJpbmFyc19fc2xpZGVyIC5zd2lwZXItY29udGFpbmVyJywge1xuICAgIHNwYWNlQmV0d2VlbjogMjAsXG4gICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgIGdyYWJDdXJzb3I6IHRydWUsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiAnLndlYmluYXJzX19zbGlkZXIgLnNsaWRlci1hcnJvdy0tcmlnaHQnLFxuICAgICAgcHJldkVsOiAnLndlYmluYXJzX19zbGlkZXIgLnNsaWRlci1hcnJvdy0tbGVmdCdcbiAgICB9XG4gIH0pIDogKCQoJy53ZWJpbmFyc19fc2xpZGVyJykuYWRkQ2xhc3MoJ3dlYmluYXJzX19zbGlkZXItLWRpc2FibGVkJyksICQoJy53ZWJpbmFycyAuc2xpZGVyLWFycm93JykuZmFkZU91dCgwKSk7XG4gIG5ldyBTd2lwZXIoJy50ZWFtX19zbGlkZXIgLnN3aXBlci1jb250YWluZXInLCB7XG4gICAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6ICcudGVhbV9fc2xpZGVyIC5zbGlkZXItYXJyb3ctLXJpZ2h0JyxcbiAgICAgIHByZXZFbDogJy50ZWFtX19zbGlkZXIgLnNsaWRlci1hcnJvdy0tbGVmdCdcbiAgICB9LFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA5MDA6IHtcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiA4MFxuICAgICAgfVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShfcmVmKSB7XG4gICAgICAgIHZhciBzbGlkZXMgPSBfcmVmLnNsaWRlcyxcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gX3JlZi5hY3RpdmVJbmRleDtcbiAgICAgICAgJCh3aW5kb3cpLndpZHRoKCkgPiAxMjc5ICYmIChzbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGUsIGluZGV4KSB7XG4gICAgICAgICAgaW5kZXggPCBhY3RpdmVJbmRleCA/ICQoc2xpZGUpLmFkZENsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKSA6ICQoc2xpZGUpLnJlbW92ZUNsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKTtcbiAgICAgICAgfSksIHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZSwgaW5kZXgpIHtcbiAgICAgICAgICBpbmRleCA+IGFjdGl2ZUluZGV4ICsgMiA/ICQoc2xpZGUpLmFkZENsYXNzKFwic3dpcGVyLXNsaWRlLW5leHQtbmV4dFwiKSA6ICQoc2xpZGUpLnJlbW92ZUNsYXNzKFwic3dpcGVyLXNsaWRlLW5leHQtbmV4dFwiKTtcbiAgICAgICAgfSkpO1xuICAgICAgfSxcbiAgICAgIHJlYWNoRW5kOiBmdW5jdGlvbiByZWFjaEVuZChfcmVmMikge1xuICAgICAgICB2YXIgJGVsID0gX3JlZjIuJGVsO1xuICAgICAgICAkKHdpbmRvdykud2lkdGgoKSA+IDEyNzkgJiYgJCgkZWwpLnBhcmVudHMoJy50ZWFtX19zbGlkZXInKS5maW5kKCcuc3dpcGVyLXNsaWRlLW5leHQtbmV4dCcpLnJlbW92ZUNsYXNzKCdzd2lwZXItc2xpZGUtbmV4dC1uZXh0Jyk7XG4gICAgICB9LFxuICAgICAgZnJvbUVkZ2U6IGZ1bmN0aW9uIGZyb21FZGdlKF9yZWYzKSB7XG4gICAgICAgIHZhciAkZWwgPSBfcmVmMy4kZWw7XG4gICAgICAgICQod2luZG93KS53aWR0aCgpID4gMTI3OSAmJiAkKCRlbCkucGFyZW50cygnLnRlYW1fX3NsaWRlcicpLmZpbmQoJy5zd2lwZXItc2xpZGUtbmV4dCcpLmFkZENsYXNzKCdzd2lwZXItc2xpZGUtbmV4dC1uZXh0Jyk7XG4gICAgICB9LFxuICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdChfcmVmNCkge1xuICAgICAgICB2YXIgc2xpZGVzID0gX3JlZjQuc2xpZGVzLFxuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBfcmVmNC5hY3RpdmVJbmRleDtcbiAgICAgICAgJCh3aW5kb3cpLndpZHRoKCkgPiAxMjc5ICYmIHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZSwgaW5kZXgpIHtcbiAgICAgICAgICBpbmRleCA+IGFjdGl2ZUluZGV4ICsgMiA/ICQoc2xpZGUpLmFkZENsYXNzKFwic3dpcGVyLXNsaWRlLW5leHQtbmV4dFwiKSA6ICQoc2xpZGUpLnJlbW92ZUNsYXNzKFwic3dpcGVyLXNsaWRlLW5leHQtbmV4dFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTsgLy8gL1BhZ2UgbG9hZFxufSk7Il19
